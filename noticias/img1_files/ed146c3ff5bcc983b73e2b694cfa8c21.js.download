!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var r={EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_TRACK_HOST:"https://horizon-track.globo.com",HORIZON_SCHEMAS_HOST:"https://horizon-schemas.globo.com",HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_REQUEST_ENCODING:"base64",HORIZON_CLIENT_UUID:o(n(2)).default.getResource("clientInstanceUUID",(0,i.default)()),SCHEMA_VALIDATOR_SCRIPT_URL:"https://s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,PACKAGE_VERSION:"1.0.2"},a={useQAConfiguration:function(){r.HORIZON_TRACK_HOST="https://horizon-track.qa.globoi.com",r.HORIZON_SCHEMAS_HOST="https://horizon-schemas.qa.globoi.com",r.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(r,a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resouce.",COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded."},o={mustBeDefined:function(e){throw new Error(i.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(i,o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:i,getResource:function(e,t){var n=i();return n[e]=n[e]||t,n[e]}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.HorizonClient=void 0,n(5);var i=r(n(7)),o=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}t.HorizonClient=i.default,t.Settings=o.default},function(e,t,n){"use strict";n(6).polyfill()},function(e,t,n){"use strict";function i(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(void 0!==o&&null!==o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var c=r[a],l=Object.getOwnPropertyDescriptor(o,c);void 0!==l&&l.enumerable&&(n[c]=o[c])}}return n}e.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(0)),r=l(n(11)),a=l(n(1)),s=l(n(13)),c=l(n(21));function l(e){return e&&e.__esModule?e:{default:e}}var u={READY:"stateReady",UNLOADED:"stateNotReady",LOADING:"stateLoading"},d=function(){function e(t,n){var i=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.tenant=t||a.default.mustBeDefined("tenant"),this.deviceGroup=n||a.default.mustBeDefined("deviceGroup"),this.defaultContentType=l,this.validator=r.default,this.clientVersion=o.default.PACKAGE_VERSION,this.state=u.UNLOADED,this.referer=document.referrer;var d=null,f=null;this.setSchemasProvider=function(e){return d=e},this.getSchemasProvider=function(){if(!d){var e=c.default.getInstance();i.setSchemasProvider(e)}return d},this.setEventBus=function(e){return f=e},this.getEventBus=function(){if(!f){var e=s.default.getInstance(i.tenant,i.deviceGroup);i.setEventBus(e)}return f},this.isReady=function(){return!!d&&i.validator.isReady()&&d.isReady()}}return i(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?(this.state=u.READY,e()):(this.state=u.LOADING,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=u.LOADING,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this;if(this.validator.validateArgs(e),!this.isReady())return this.state===u.UNLOADED&&this.flush(),void this.onReady(function(){return t.send(e)});this.validateBeforeEnqueue(e);var n=this.getScopeInfo(),i=Object.assign({},e,n);i.contentType||(this.defaultContentType||a.default.mustBeDefined("contentType"),i.contentType=this.defaultContentType),this.getEventBus().enqueue(i)}}]),e}();t.default=d},function(e,t,n){var i=n(9),o=n(10);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}},function(e,t,n){(function(t){var n,i=t.crypto||t.msCrypto;if(i&&i.getRandomValues){var o=new Uint8Array(16);n=function(){return i.getRandomValues(o),o}}if(!n){var r=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}e.exports=n}).call(t,n(3))},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,o=n;return o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(n(12)),r=s(n(1)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var c={ready:[]},l=function(){return!!window.tv4},u=function(e){return null===e?null:isNaN(e)&&!isNaN(Date.parse(e))?null:r.default.INVALID_DATE};t.default={validateFor:function(e,t){if(!l())throw new Error(r.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(r.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(r.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(r.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(r.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==i(e.properties))throw new Error(r.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(r.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);if(delete n.id,delete n.version,delete n.properties,delete n.contentType,Object.keys(n).length>0)throw new Error(r.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:u,isReady:l,onReady:function(e){if(l())return e();if(c.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(r.default.LIMIT_EXCEEDED+" Validator callback stack.");return c.ready.unshift(e)},load:function(){o.default.isDefined("tv4")||(0,o.default)([a.default.SCHEMA_VALIDATOR_SCRIPT_URL],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",u),c.ready.forEach(function(e){return e()})},error:function(e){throw new Error(r.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}},function(e,t,n){var i,o;void 0===(o="function"==typeof(i=function(){var e=function(){},t={},n={},i={};function o(e,t){if(e){var o=i[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function r(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,i,o){var r,s,c=document,l=i.async,u=(i.numRetries||0)+1,d=i.before||e,f=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(r=!0,(s=c.createElement("link")).rel="stylesheet",s.href=f):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(s=c.createElement("img")).src=f:((s=c.createElement("script")).src=t,s.async=void 0===l||l),s.onload=s.onerror=s.onbeforeload=function(e){var c=e.type[0];if(r&&"hideFocus"in s)try{s.sheet.cssText.length||(c="e")}catch(e){c="e"}if("e"==c&&(o+=1)<u)return a(t,n,i,o);n(t,c,e.defaultPrevented)},!1!==d(t,s)&&c.head.appendChild(s)}function s(e,n,i){var s,c;if(n&&n.trim&&(s=n),c=(s?i:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}!function(e,t,n){var i,l,u=(e=e.push?e:[e]).length,d=u,f=[];for(i=function(e,t,n){if("e"==t&&f.push(e),"b"==t){if(!n)return;f.push(e)}var i;--u||(r(c,i=f),o(s,i))},l=0;l<d;l++)a(e[l],i,n)}(e,0,c)}return s.ready=function(e,t){return function(e,o){var a,s,c,l=[],u=(e=e.push?e:[e]).length,d=u;for(a=function(e,n){n.length&&l.push(e),--d||r(t,l)};u--;)s=e[u],(c=n[s])?a(s,c):(i[s]=i[s]||[]).push(a)}(e),s},s.done=function(e){o(e,[])},s.reset=function(){t={},n={},i={}},s.isDefined=function(e){return e in t},s})?i.apply(t,[]):i)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=f(n(14)),r=f(n(15)),a=f(n(2)),s=f(n(16)),c=f(n(0)),l=f(n(1)),u=f(n(19)),d=f(n(20));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){return a.default.getResource("bus",{})},h=function(){function e(t,n,i){var o=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.currentTenant=t||l.default.mustBeDefined("tenant"),this.instanceID=n||l.default.mustBeDefined("instanceID"),this.deviceGroup=i||l.default.mustBeDefined("deviceGroup"),this.queue=new u.default(c.default.EVENTS_BUFFER_SIZE),(new d.default).every(c.default.EVENTS_SENDER_INTERVAL).call(function(){o.queue=o.filterQueue();var e=o.prepareRequest();o.dispatch(e,c.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return o.enqueue(e)})}).call(function(e){var t=c.default.EVENTS_SENDER_INTERVAL,n=2*c.default.EVENTS_SENDER_INTERVAL,i=Number(r.default.get("_hzt.interval"))||c.default.EVENTS_SENDER_INTERVAL;i<=n&&i>=t&&e.interval!==i&&e.reschedule(i),r.default.remove("_hzt.interval",{path:"/"})}).start()}return i(e,[{key:"setMaxQueueSize",value:function(e){this.queue=u.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-c.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(t){return t.actionTs>e})}},{key:"prepareRequest",value:function(){return{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,actions:this.queue.splice(0,c.default.EVENTS_BULK_SIZE)}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(l.default.INVALID_REQUEST);return e.actions.length>0}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=c.default.HORIZON_TRACK_HOST+"/event/"+this.currentTenant,i=s.default.get(t);if(!this.isValidRequest(e))return!1;var r=i(e);return(0,o.default)(n,r)}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(l.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,c.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t){var n=p(),i=e+"-"+t;return n[i]||(n[i]=new h(e,c.default.HORIZON_CLIENT_UUID,t)),n[i]},reset:function(e,t){e&&0!==e.length||l.default.mustBeDefined("tenant"),t&&0!==t.length||l.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete p()[n]},getContextBus:p}},function(e,t,n){!function(n){"use strict";var i=function(e,t){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type);try{n.send(t)}catch(e){}return!0};"navigator"in n&&"sendBeacon"in n.navigator&&(i=navigator.sendBeacon.bind(navigator)),void 0!==e&&e.exports&&(t=e.exports=i),t.sendBeacon=i}("object"==typeof window?window:this)},function(e,t,n){var i,o,r;void 0===(o="function"==typeof(i=r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,o,r){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=e({path:"/"},i.defaults,r)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}r.expires=r.expires?r.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in r)r[l]&&(c+="; "+l,!0!==r[l]&&(c+="="+r[l]));return document.cookie=t+"="+o+c}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===m){a=h;break}t||(a[m]=h)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}(function(){})})?i.call(t,n,t,e):i)||(e.exports=o),e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(17)),o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var a={base64:function(e){var t=new FormData;return t.append("data",i.default.encode(JSON.stringify(e))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in a))throw new Error(o.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return a[e]}}},function(e,t,n){(function(e,i){var o;!function(r){var a=("object"==typeof e&&e&&e.exports,"object"==typeof i&&i);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,o,r=e.length%3,a="",s=-1,u=e.length-r;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,i=e.charCodeAt(++s),a+=l.charAt((o=t+n+i)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==r?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=l.charAt((o=t+n)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==r&&(o=e.charCodeAt(s),a+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,o=0,r="",a=-1;++a<t;)i=l.indexOf(e.charAt(a)),n=o%4?64*n+i:i,o++%4&&(r+=String.fromCharCode(255&n>>(-2*o&6)));return r},version:"0.1.0"};void 0===(o=function(){return d}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(18)(e),n(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._queue=[],this.maxSize=t}return i(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var i=new e(n);return t.forEach(function(e){return i.push(e)}),i}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return i(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach(function(t){return t(e)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(2)),r=c(n(1)),a=c(n(0)),s=c(n(22));function c(e){return e&&e.__esModule?e:{default:e}}var l={READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},u=function(){return o.default.getResource("schemas",{data:{}})},d=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.url=t,this.state=l.STATE_NOT_READY,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return i(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+r.default.COMPONENT_NOT_READY);var i=u().data[n];if(!i)throw new Error(r.default.UNSUPPORTED_TYPE+": "+n);return i}},{key:"isReady",value:function(){return this.state===l.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=l.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=l.STATE_NOT_READY,e.load()},a.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===l.STATE_READY)return e(u().data);if(this.callbacks.onReady.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(r.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===l.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"execAsync",value:function(e,t){setTimeout(function(){return e(t)},1)}},{key:"load",value:function(){var e=this,t=u();this.state===l.STATE_NOT_READY&&(this.state=l.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()}),s.default.request("GET",this.url,function(n){t.data=Object.assign(t.data||{},n),e.state=l.STATE_READY,e.callbacks.onReady.forEach(function(n){return e.execAsync(n,t.data)})},function(t){e.state=l.STATE_ERROR,e.callbacks.onError.forEach(function(n){return e.execAsync(n,t)}),e.retry()}))}}]),e}();t.default={getInstance:function(e){var t=u();return t.provider||(t.provider=new d(e||a.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,i){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){return o.status<400?n(JSON.parse(o.response)):i(o.response)},o.onerror=i,o.send()}}}])},e.exports=i()},function(e,t,n){"use strict";n(2),n(3),n(4),n(5),n(6),n(7),n(9),n(14),n(16),n(17),n(18),n(19)},function(e,t){cdaaas.helpers.urlCanonical=function(e){var t=(e=e||window).document.querySelector("link[rel=canonical]");return t?t.getAttribute("href"):e.location.href}},function(e,t){!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var i=new s.default(h,c.default,t,e);m=i,i.listen("destroy",function(){m=null,document.body.style.overflow="visible"}),n&&n(i),i.init()}function r(e){var t=(0,p.map)(document.querySelectorAll(".content-top-image, .content-photo"),d.mapElementToLightboxItem),n=function(e){if(this.classList.contains("can-open-lightbox")){e.stopPropagation();var n=this.getAttribute("data-media-index");o(Object.assign({index:parseInt(n,10)},v),t,function(e){(0,d.applyResponsiveness)(e),(0,u.bindTrackEvents)(e)})}};[].map.call(document.querySelectorAll(".can-open-lightbox"),function(t){return t.addEventListener("click",e||n,!1),t})}function a(){var e=document.querySelectorAll(".can-open-lightbox-iframe"),t=function(e){if(this.classList.contains("can-open-lightbox-iframe")){e.stopPropagation();var t=(0,p.map)([this.parentNode.parentNode],f.mapElementToLightboxIframe),n=parseInt(this.getAttribute("data-media-index"),10);o(Object.assign({},f.defaultLightboxIframeOptions,{index:n}),t),(0,p.dispatchEvent)("openLightbox","body",{detail:"#votation-iframe"+n}),document.body.style.overflow="hidden"}};(0,p.map)(e,function(e){return e.addEventListener("click",t,!1),e})}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLightboxOptions=void 0,t.initBodyItems=r,t.initIframeItems=a;var s=i(n(3)),c=i(n(4)),l=n(5),u=n(6),d=n(8),f=n(9),p=(n(10),n(7)),h=null,m=void 0,v=t.defaultLightboxOptions={history:!1,zoomEl:!1,fullscreenEl:!1,shareEl:!1,indexIndicatorSep:" de ",barsSize:{top:0,bottom:0},closeOnScroll:!1,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=l.photoCaptionIcon+"<span>"+e.title+"</span>",!0):(t.children[0].innerHTML="",!1)},getThumbBoundsFn:function(e){var t=document.querySelector('*[data-media-index="'+e+'"]');if(t){var n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},getDoubleTapZoom:function(e,t){return t.getDoubleTapZoom(e,t)},isClickableElement:function(e){return"A"===e.tagName||e.classList&&e.classList.contains("pointer-enabled")}};window.addEventListener("orientationchange",function(){/iP(hone|od|ad)/.test(navigator.platform)&&function e(){h.classList.contains("pswp--open")&&setTimeout(function(){h.getBoundingClientRect().width==window.innerWidth?window.requestAnimationFrame(function(){m&&(m.invalidateCurrItems(),m.updateSize(!0))}):e()},100)}()}),document.body.insertAdjacentHTML("beforeend",l.lightboxMarkup),h=document.querySelector(".pswp"),r(),a()},function(e,t,n){var i,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(o="function"==typeof(i=function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(i.isOldIOSPhone=!0)}var s=r.match(/Android\s([0-9\.]*)/),c=s?s[1]:0;(c=parseFloat(c))>=1&&(c<4.4&&(i.isOldAndroid=!0),i.androidVersion=c),i.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var l,u,d=["transform","perspective","animationName"],f=["","webkit","Moz","ms","O"],p=0;p<4;p++){n=f[p];for(var h=0;h<3;h++)l=d[h],u=n+(n?l.charAt(0).toUpperCase()+l.slice(1):l),!i[l]&&u in t&&(i[l]=u);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var m=0;i.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-m)),i=window.setTimeout(function(){e(t+n)},n);return m=t+n,i},i.caf=function(e){clearTimeout(e)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},c=0;c<t.length;c++)if(o=t[c])if("object"===(void 0===n?"undefined":r(n))&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=s;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var a=this,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(s,i);var c,l,u,d,f,p,h,m,v,g,w,y,b,x,E,T,S,_,k,I,C,A,O,R,L,D,M,N,P,F,B,q,z,U,H,V,j,Z,G,W,K,Y,$,X,J,Q,ee,te,ne,ie,oe,re,ae,se,ce,le,ue={x:0,y:0},de={x:0,y:0},fe={x:0,y:0},pe={},he=0,me={},ve={x:0,y:0},ge=0,we=!0,ye=[],be={},xe=!1,Ee=function(e,t){o.extend(a,t.publicMethods),ye.push(e)},Te=function(e){var t=zt();return e>t-1?e-t:e<0?t+e:e},Se={},_e=function(e,t){return Se[e]||(Se[e]=[]),Se[e].push(t)},ke=function(e){var t=Se[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(a,n)}},Ie=function(){return(new Date).getTime()},Ce=function(e){se=e,a.bg.style.opacity=e*s.bgOpacity},Ae=function(e,t,n,i,o){(!xe||o&&o!==a.currItem)&&(i/=o?o.fitRatio:a.currItem.fitRatio),e[A]=y+t+"px, "+n+"px"+b+" scale("+i+")"},Oe=function(e){ne&&(e&&(g>a.currItem.fitRatio?xe||(Yt(a.currItem,!1,!0),xe=!0):xe&&(Yt(a.currItem),xe=!1)),Ae(ne,fe.x,fe.y,g))},Re=function(e){e.container&&Ae(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Le=function(e,t){t[A]=y+e+"px, 0px"+b},De=function(e,t){if(!s.loop&&t){var n=d+(ve.x*he-e)/ve.x,i=Math.round(e-dt.x);(n<0&&i>0||n>=zt()-1&&i<0)&&(e=dt.x+i*s.mainScrollEndFriction)}dt.x=e,Le(e,f)},Me=function(e,t){var n=ft[e]-me[e];return de[e]+ue[e]+n-n*(t/w)},Ne=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Pe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Fe=null,Be=function t(){Fe&&(o.unbind(document,"mousemove",t),o.addClass(e,"pswp--has_mouse"),s.mouseUsed=!0,ke("mouseUsed")),Fe=setTimeout(function(){Fe=null},100)},qe=function(e,t){var n=Zt(a.currItem,pe,e);return t&&(te=n),n},ze=function(e){return e||(e=a.currItem),e.initialZoomLevel},Ue=function(e){return e||(e=a.currItem),e.w>0?s.maxSpreadZoom:1},He=function(e,t,n,i){return i===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Me(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ve=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},je=function(e){e&&(Y||K||ie||j)&&(e.preventDefault(),e.stopPropagation())},Ze=function(){a.setScrollOffset(0,o.getScrollY())},Ge={},We=0,Ke=function(e){Ge[e]&&(Ge[e].raf&&D(Ge[e].raf),We--,delete Ge[e])},Ye=function(e){Ge[e]&&Ke(e),Ge[e]||(We++,Ge[e]={})},$e=function(){for(var e in Ge)Ge.hasOwnProperty(e)&&Ke(e)},Xe=function(e,t,n,i,o,r,a){var s,c=Ie();Ye(e),function l(){if(Ge[e]){if((s=Ie()-c)>=i)return Ke(e),r(n),void(a&&a());r((n-t)*o(s/i)+t),Ge[e].raf=L(l)}}()},Je={shout:ke,listen:_e,viewportSize:pe,options:s,isMainScrollAnimating:function(){return ie},getZoomLevel:function(){return g},getCurrentIndex:function(){return d},isDragging:function(){return G},isZooming:function(){return Q},setScrollOffset:function(e,t){me.x=e,F=me.y=t,ke("updateScrollOffset",me)},applyZoomPan:function(e,t,n,i){fe.x=t,fe.y=n,g=e,Oe(i)},init:function(){if(!c&&!l){var n;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),M=e.className,c=!0,B=o.detectFeatures(),L=B.raf,D=B.caf,A=B.transform,P=B.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),f=a.container.style,a.itemHolders=T=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],T[0].el.style.display=T[2].el.style.display="none",function(){if(A){var t=B.perspective&&!R;return y="translate"+(t?"3d(":"("),void(b=B.perspective?", 0px)":")")}A="left",o.addClass(e,"pswp--ie"),Le=function(e,t){t.left=e+"px"},Re=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Oe=function(){if(ne){var e=ne,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}}(),v={resize:a.updateSize,orientationchange:function(){clearTimeout(q),q=setTimeout(function(){pe.x!==a.scrollWrap.clientWidth&&a.updateSize()},500)},scroll:Ze,keydown:Ve,click:je};var i=B.isOldIOSPhone||B.isOldAndroid||B.isMobileOpera;for(B.animationName&&B.transform&&!i||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<ye.length;n++)a["init"+ye[n]]();t&&(a.ui=new t(a,o)).init(),ke("firstUpdate"),d=d||s.index||0,(isNaN(d)||d<0||d>=zt())&&(d=0),a.currItem=qt(d),(B.isOldIOSPhone||B.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),s.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===F&&(ke("initialLayout"),F=N=o.getScrollY());var r="pswp--open ";for(s.mainClass&&(r+=s.mainClass+" "),s.showHideOpacity&&(r+="pswp--animate_opacity "),r+=R?"pswp--touch":"pswp--notouch",r+=B.animationName?" pswp--css_animation":"",r+=B.svg?" pswp--svg":"",o.addClass(e,r),a.updateSize(),p=-1,ge=null,n=0;n<3;n++)Le((n+p)*ve.x,T[n].el.style);P||o.bind(a.scrollWrap,m,a),_e("initialZoomInEnd",function(){a.setContent(T[0],d-1),a.setContent(T[2],d+1),T[0].el.style.display=T[2].el.style.display="block",s.focus&&e.focus(),o.bind(document,"keydown",a),B.transform&&o.bind(a.scrollWrap,"click",a),s.mouseUsed||o.bind(document,"mousemove",Be),o.bind(window,"resize scroll orientationchange",a),ke("bindEvents")}),a.setContent(T[1],d),a.updateCurrItem(),ke("afterInit"),we||(x=setInterval(function(){We||G||Q||g!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,l=!0,ke("close"),o.unbind(window,"resize scroll orientationchange",a),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",Be),B.transform&&o.unbind(a.scrollWrap,"click",a),G&&o.unbind(window,h,a),clearTimeout(q),ke("unbindEvents"),Ut(a.currItem,null,!0,a.destroy))},destroy:function(){ke("destroy"),Nt&&clearTimeout(Nt),e.setAttribute("aria-hidden","true"),e.className=M,x&&clearInterval(x),o.unbind(a.scrollWrap,m,a),o.unbind(window,"scroll",a),mt(),$e(),Se=null},panTo:function(e,t,n){n||(e>te.min.x?e=te.min.x:e<te.max.x&&(e=te.max.x),t>te.min.y?t=te.min.y:t<te.max.y&&(t=te.max.y)),fe.x=e,fe.y=t,Oe()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){var t=(e=Te(e))-d;ge=t,d=e,a.currItem=qt(d),he-=t,De(ve.x*he),$e(),ie=!1,a.updateCurrItem()},next:function(){a.goTo(d+1)},prev:function(){a.goTo(d-1)},updateCurrZoomItem:function(e){if(e&&ke("beforeChange",0),T[1].el.children.length){var t=T[1].el.children[0];ne=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ne=null;te=a.currItem.bounds,w=g=a.currItem.initialZoomLevel,fe.x=te.center.x,fe.y=te.center.y,e&&ke("afterChange")},invalidateCurrItems:function(){E=!0;for(var e=0;e<3;e++)T[e].item&&(T[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){a.currItem=qt(d),xe=!1,ke("beforeChange",ge),n>=3&&(p+=ge+(ge>0?-3:3),n=3);for(var i=0;i<n;i++)ge>0?(t=T.shift(),T[2]=t,p++,Le((p+2)*ve.x,t.el.style),a.setContent(t,d-n+i+1+1)):(t=T.pop(),T.unshift(t),p--,Le(p*ve.x,t.el.style),a.setContent(t,d+n-i-1-1));if(ne&&1===Math.abs(ge)){var o=qt(S);o.initialZoomLevel!==g&&(Zt(o,pe),Yt(o),Re(o))}ge=0,a.updateCurrZoomItem(),S=d,ke("afterChange")}}},updateSize:function(t){if(!we&&s.modal){var n=o.getScrollY();if(F!==n&&(e.style.top=n+"px",F=n),!t&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,e.style.height=be.y+"px"}if(pe.x=a.scrollWrap.clientWidth,pe.y=a.scrollWrap.clientHeight,Ze(),ve.x=pe.x+Math.round(pe.x*s.spacing),ve.y=pe.y,De(ve.x*he),ke("beforeResize"),void 0!==p){for(var i,r,c,l=0;l<3;l++)i=T[l],Le((l+p)*ve.x,i.el.style),c=d+l-1,s.loop&&zt()>2&&(c=Te(c)),r=qt(c),r&&(E||r.needsUpdate||!r.bounds)?(a.cleanSlide(r),a.setContent(i,c),1===l&&(a.currItem=r,a.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===i.index&&c>=0&&a.setContent(i,c),r&&r.container&&(Zt(r,pe),Yt(r),Re(r));E=!1}w=g=a.currItem.initialZoomLevel,(te=a.currItem.bounds)&&(fe.x=te.center.x,fe.y=te.center.y,Oe(!0)),ke("resize")},zoomTo:function(e,t,n,i,r){t&&(w=g,ft.x=Math.abs(t.x)-fe.x,ft.y=Math.abs(t.y)-fe.y,Ne(de,fe));var a=qe(e,!1),s={};He("x",a,s,e),He("y",a,s,e);var c=g,l={x:fe.x,y:fe.y};Pe(s);var u=function(t){1===t?(g=e,fe.x=s.x,fe.y=s.y):(g=(e-c)*t+c,fe.x=(s.x-l.x)*t+l.x,fe.y=(s.y-l.y)*t+l.y),r&&r(t),Oe(1===t)};n?Xe("customZoomTo",0,1,n,i||o.easing.sine.inOut,u):u(1)}},Qe={},et={},tt={},nt={},it={},ot=[],rt={},at=[],st={},ct=0,lt={x:0,y:0},ut=0,dt={x:0,y:0},ft={x:0,y:0},pt={x:0,y:0},ht=function(e,t){return st.x=Math.abs(e.x-t.x),st.y=Math.abs(e.y-t.y),Math.sqrt(st.x*st.x+st.y*st.y)},mt=function(){$&&(D($),$=null)},vt={},gt=function(e,t){return vt.prevent=!function e(t,n){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(n(t)?t:e(t.parentNode,n))}(e.target,s.isClickableElement),ke("preventDragEvent",e,t,vt),vt.prevent},wt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},yt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},bt=function(){var e=fe.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(pe.y/2))},xt={},Et={},Tt=[],St=function(e){for(;Tt.length>0;)Tt.pop();return O?(le=0,ot.forEach(function(e){0===le?Tt[0]=e:1===le&&(Tt[1]=e),le++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Tt[0]=wt(e.touches[0],xt),e.touches.length>1&&(Tt[1]=wt(e.touches[1],Et))):(xt.x=e.pageX,xt.y=e.pageY,xt.id="",Tt[0]=xt),Tt},_t=function(e,t){var n,i,o,r,c=fe[e]+t[e],l=t[e]>0,u=dt.x+t.x,d=dt.x-rt.x;if(n=c>te.min[e]||c<te.max[e]?s.panEndFriction:1,c=fe[e]+t[e]*n,(s.allowPanToNext||g===a.currItem.initialZoomLevel)&&(ne?"h"!==oe||"x"!==e||K||(l?(c>te.min[e]&&(n=s.panEndFriction,te.min[e],i=te.min[e]-de[e]),(i<=0||d<0)&&zt()>1?(r=u,d<0&&u>rt.x&&(r=rt.x)):te.min.x!==te.max.x&&(o=c)):(c<te.max[e]&&(n=s.panEndFriction,te.max[e],i=de[e]-te.max[e]),(i<=0||d>0)&&zt()>1?(r=u,d>0&&u<rt.x&&(r=rt.x)):te.min.x!==te.max.x&&(o=c))):r=u,"x"===e))return void 0!==r&&(De(r,!0),X=r!==rt.x),te.min.x!==te.max.x&&(void 0!==o?fe.x=o:X||(fe.x+=t.x*n)),void 0!==r;ie||X||g>a.currItem.fitRatio&&(fe[e]+=t[e]*n)},kt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Bt)return void e.preventDefault();if(!Z||"mousedown"!==e.type){if(gt(e,!0)&&e.preventDefault(),ke("pointerDown"),O){var t=o.arraySearch(ot,e.pointerId,"id");t<0&&(t=ot.length),ot[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=St(e),i=n.length;J=null,$e(),G&&1!==i||(G=re=!0,o.bind(window,h,a),V=ce=ae=j=X=Y=W=K=!1,oe=null,ke("firstTouchStart",n),Ne(de,fe),ue.x=ue.y=0,Ne(nt,n[0]),Ne(it,nt),rt.x=ve.x*he,at=[{x:nt.x,y:nt.y}],U=z=Ie(),qe(g,!0),mt(),function e(){G&&($=L(e),Ct())}()),!Q&&i>1&&!ie&&!X&&(w=g,K=!1,Q=W=!0,ue.y=ue.x=0,Ne(de,fe),Ne(Qe,n[0]),Ne(et,n[1]),yt(Qe,et,pt),ft.x=Math.abs(pt.x)-fe.x,ft.y=Math.abs(pt.y)-fe.y,ee=ht(Qe,et))}}},It=function(e){if(e.preventDefault(),O){var t=o.arraySearch(ot,e.pointerId,"id");if(t>-1){var n=ot[t];n.x=e.pageX,n.y=e.pageY}}if(G){var i=St(e);if(oe||Y||Q)J=i;else if(dt.x!==ve.x*he)oe="h";else{var r=Math.abs(i[0].x-nt.x)-Math.abs(i[0].y-nt.y);Math.abs(r)>=10&&(oe=r>0?"h":"v",J=i)}}},Ct=function(){if(J){var e=J.length;if(0!==e)if(Ne(Qe,J[0]),tt.x=Qe.x-nt.x,tt.y=Qe.y-nt.y,Q&&e>1){if(nt.x=Qe.x,nt.y=Qe.y,!tt.x&&!tt.y&&(f=J[1],p=et,f.x===p.x&&f.y===p.y))return;Ne(et,J[1]),K||(K=!0,ke("zoomGestureStarted"));var t=ht(Qe,et),n=Dt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ce=!0);var i=1,o=ze(),r=Ue();if(n<o)if(s.pinchToClose&&!ce&&w<=a.currItem.initialZoomLevel){var c=o-n,l=1-c/(o/1.2);Ce(l),ke("onPinchClose",l),ae=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>r&&(i=(n-r)/(6*o),i>1&&(i=1),n=r+i*o);i<0&&(i=0),yt(Qe,et,lt),ue.x+=lt.x-pt.x,ue.y+=lt.y-pt.y,Ne(pt,lt),fe.x=Me("x",n),fe.y=Me("y",n),V=n>g,g=n,Oe()}else{if(!oe)return;if(re&&(re=!1,Math.abs(tt.x)>=10&&(tt.x-=J[0].x-it.x),Math.abs(tt.y)>=10&&(tt.y-=J[0].y-it.y)),nt.x=Qe.x,nt.y=Qe.y,0===tt.x&&0===tt.y)return;if("v"===oe&&s.closeOnVerticalDrag&&"fit"===s.scaleMode&&g===a.currItem.initialZoomLevel){ue.y+=tt.y,fe.y+=tt.y;var u=bt();return j=!0,ke("onVerticalDrag",u),Ce(u),void Oe()}(function(e,t,n){if(e-U>50){var i=at.length>2?at.shift():{};i.x=t,i.y=n,at.push(i),U=e}})(Ie(),Qe.x,Qe.y),Y=!0,te=a.currItem.bounds;var d=_t("x",tt);d||(_t("y",tt),Pe(fe),Oe())}}var f,p},At=function(e){if(B.isOldAndroid){if(Z&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}var t;if(ke("pointerUp"),gt(e,!1)&&e.preventDefault(),O){var n=o.arraySearch(ot,e.pointerId,"id");n>-1&&(t=ot.splice(n,1)[0],navigator.pointerEnabled?t.type=e.pointerType||"mouse":(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")))}var i,r=St(e),c=r.length;if("mouseup"===e.type&&(c=0),2===c)return J=null,!0;1===c&&Ne(it,r[0]),0!==c||oe||ie||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ke("touchRelease",e,t));var l=-1;if(0===c&&(G=!1,o.unbind(window,h,a),mt(),Q?l=0:-1!==ut&&(l=Ie()-ut)),ut=1===c?Ie():-1,i=-1!==l&&l<150?"zoom":"swipe",Q&&c<2&&(Q=!1,1===c&&(i="zoomPointerUp"),ke("zoomGestureEnded")),J=null,Y||K||ie||j)if($e(),H||(H=Ot()),H.calculateSwipeSpeed("x"),j){var u=bt();if(u<s.verticalDragRange)a.close();else{var d=fe.y,f=se;Xe("verticalDrag",0,1,300,o.easing.cubic.out,function(e){fe.y=(a.currItem.initialPosition.y-d)*e+d,Ce((1-f)*e+f),Oe()}),ke("onVerticalDrag",1)}}else{if((X||ie)&&0===c){var p=Lt(i,H);if(p)return;i="zoomPointerUp"}if(!ie)return"swipe"!==i?void Mt():void(!X&&g>a.currItem.fitRatio&&Rt(H))}},Ot=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){at.length>1?(e=Ie()-U+50,t=at[at.length-2][i]):(e=Ie()-z,t=it[i]),n.lastFlickOffset[i]=nt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(fe[e]>te.min[e]?n.backAnimDestination[e]=te.min[e]:fe[e]<te.max[e]&&(n.backAnimDestination[e]=te.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Xe("bounceZoomPan"+e,fe[e],n.backAnimDestination[e],t||300,o.easing.sine.out,function(t){fe[e]=t,Oe()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,fe[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Ge.zoomPan&&(Ge.zoomPan.raf=L(n.panAnimLoop),n.now=Ie(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Oe(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),Oe(),void Ke("zoomPan")}};return n},Rt=function(e){if(e.calculateSwipeSpeed("y"),te=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ye("zoomPan"),e.lastNow=Ie(),e.panAnimLoop()},Lt=function(e,t){var n,i,r;if(ie||(ct=d),"swipe"===e){var c=nt.x-it.x,l=t.lastFlickDist.x<10;c>30&&(l||t.lastFlickOffset.x>20)?i=-1:c<-30&&(l||t.lastFlickOffset.x<-20)&&(i=1)}i&&((d+=i)<0?(d=s.loop?zt()-1:0,r=!0):d>=zt()&&(d=s.loop?0:zt()-1,r=!0),r&&!s.loop||(ge+=i,he-=i,n=!0));var u,f=ve.x*he,p=Math.abs(f-dt.x);return n||f>dt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,ct===d&&(n=!1),ie=!0,ke("mainScrollAnimStart"),Xe("mainScroll",dt.x,f,u,o.easing.cubic.out,De,function(){$e(),ie=!1,ct=-1,(n||ct!==d)&&a.updateCurrItem(),ke("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Dt=function(e){return 1/ee*e*w},Mt=function(){var e=g,t=ze(),n=Ue();g<t?e=t:g>n&&(e=n);var i,r=se;return ae&&!V&&!ce&&g<t?(a.close(),!0):(ae&&(i=function(e){Ce((1-r)*e+r)}),a.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};Ee("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){_=e+t,k=e+n,I=e+i,C=o?e+o:""};(O=B.pointerEvent)&&B.touch&&(B.touch=!1),O?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):B.touch?(e("touch","start","move","end","cancel"),R=!0):e("mouse","down","move","up"),h=k+" "+I+" "+C,m=_,O&&!R&&(R=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=R,v[_]=kt,v[k]=It,v[I]=At,C&&(v[C]=v[I]),B.touch&&(m+=" mousedown",h+=" mousemove mouseup",v.mousedown=v[_],v.mousemove=v[k],v.mouseup=v[I]),R||(s.allowPanToNext=!1)}}});var Nt,Pt,Ft,Bt,qt,zt,Ut=function(t,n,i,r){var c;Nt&&clearTimeout(Nt),Bt=!0,Ft=!0,t.initialLayout?(c=t.initialLayout,t.initialLayout=null):c=s.getThumbBoundsFn&&s.getThumbBoundsFn(d);var l,f,p=i?s.hideAnimationDuration:s.showAnimationDuration,h=function(){Ke("initialZoom"),i?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Ce(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),ke("initialZoom"+(i?"OutEnd":"InEnd"))),r&&r(),Bt=!1};if(!p||!c||void 0===c.x)return ke("initialZoom"+(i?"Out":"In")),g=t.initialZoomLevel,Ne(fe,t.initialPosition),Oe(),e.style.opacity=i?0:1,Ce(1),void(p?setTimeout(function(){h()},p):h());l=u,f=!a.currItem.src||a.currItem.loadError||s.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(g=c.w/t.w,fe.x=c.x,fe.y=c.y-N,a[f?"template":"bg"].style.opacity=.001,Oe()),Ye("initialZoom"),i&&!l&&o.removeClass(e,"pswp--animated-in"),f&&(i?o[(l?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Nt=setTimeout(function(){if(ke("initialZoom"+(i?"Out":"In")),i){var n=c.w/t.w,r={x:fe.x,y:fe.y},a=g,s=se,u=function(t){1===t?(g=n,fe.x=c.x,fe.y=c.y-F):(g=(n-a)*t+a,fe.x=(c.x-r.x)*t+r.x,fe.y=(c.y-F-r.y)*t+r.y),Oe(),f?e.style.opacity=1-t:Ce(s-t*s)};l?Xe("initialZoom",0,1,p,o.easing.cubic.out,u,h):(u(1),Nt=setTimeout(h,p+20))}else g=t.initialZoomLevel,Ne(fe,t.initialPosition),Oe(),Ce(1),f?e.style.opacity=1:Ce(1),Nt=setTimeout(h,p+20)},i?25:90)},Ht={},Vt=[],jt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Pt.length}},Zt=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),ke("parseVerticalMargin",e)),Ht.x=t.x,Ht.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=Ht.x/e.w,r=Ht.y/e.h;e.fitRatio=o<r?o:r;var a=s.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return c=e,l=e.w*n,u=e.h*n,(d=c.bounds).center.x=Math.round((Ht.x-l)/2),d.center.y=Math.round((Ht.y-u)/2)+c.vGap.top,d.max.x=l>Ht.x?Math.round(Ht.x-l):d.center.x,d.max.y=u>Ht.y?Math.round(Ht.y-u)+c.vGap.top:d.center.y,d.min.x=l>Ht.x?0:d.center.x,d.min.y=u>Ht.y?c.vGap.top:d.center.y,i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}var c,l,u,d;return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Gt=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,Yt(t,i,t===a.currItem&&xe),n.appendChild(i),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Wt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Kt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},Yt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},$t=function(){if(Vt.length){for(var e,t=0;t<Vt.length;t++)e=Vt[t],e.holder.index===e.index&&Gt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Vt=[]}};Ee("Controller",{publicMethods:{lazyLoadItem:function(e){e=Te(e);var t=qt(e);t&&(!t.loaded&&!t.loading||E)&&(ke("gettingData",e,t),t.src&&Wt(t))},initController:function(){o.extend(s,jt,!0),a.items=Pt=n,qt=a.getItemAt,zt=s.getNumItemsFn,s.loop,zt()<3&&(s.loop=!1),_e("beforeChange",function(e){var t,n=s.preload,i=null===e||e>=0,o=Math.min(n[0],zt()),r=Math.min(n[1],zt());for(t=1;t<=(i?r:o);t++)a.lazyLoadItem(d+t);for(t=1;t<=(i?o:r);t++)a.lazyLoadItem(d-t)}),_e("initialLayout",function(){a.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(d)}),_e("mainScrollAnimComplete",$t),_e("initialZoomInEnd",$t),_e("destroy",function(){for(var e,t=0;t<Pt.length;t++)e=Pt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Vt=null})},getItemAt:function(e){return e>=0&&void 0!==Pt[e]&&Pt[e]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!R||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=Te(t));var n=a.getItemAt(e.index);n&&(n.container=null);var i,r=a.getItemAt(t);if(r){ke("gettingData",t,r),e.index=t,e.item=r;var l=r.container=o.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?l.appendChild(r.html):l.innerHTML=r.html),Kt(r),Zt(r,pe),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&(i=o.createEl("pswp__img","img"),i.style.opacity=1,i.src=r.src,Yt(r,i),Gt(0,r,l,i));else{if(r.loadComplete=function(n){if(c){if(e&&e.index===t){if(Kt(n,!0))return n.loadComplete=n.img=null,Zt(n,pe),Re(n),void(e.index===d&&a.updateCurrZoomItem());n.imageAppended?!Bt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):B.transform&&(ie||Bt)?Vt.push({item:n,baseDiv:l,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Gt(0,n,l,n.img,0,!0)}n.loadComplete=null,n.img=null,ke("imageLoadComplete",t,n)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=r.msrc?"":" pswp__img--placeholder--blank";var f=o.createEl(u,r.msrc?"img":"");r.msrc&&(f.src=r.msrc),Yt(r,f),l.appendChild(f),r.placeholder=f}r.loading||Wt(r),a.allowProgressiveImg()&&(!Ft&&B.transform?Vt.push({item:r,baseDiv:l,img:r.img,index:t,holder:e}):Gt(0,r,l,r.img,0,!0))}Ft||t!==d?Re(r):(ne=l.style,Ut(r,i||r.img)),e.el.innerHTML="",e.el.appendChild(l)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Xt,Jt,Qt={},en=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Ee("Tap",{publicMethods:{initTap:function(){_e("firstTouchStart",a.onTapStart),_e("touchRelease",a.onTapRelease),_e("destroy",function(){Qt={},Xt=null})},onTapStart:function(e){e.length>1&&(clearTimeout(Xt),Xt=null)},onTapRelease:function(e,t){if(t&&!Y&&!W&&!We){var n=t;if(Xt&&(clearTimeout(Xt),Xt=null,i=n,r=Qt,Math.abs(i.x-r.x)<25&&Math.abs(i.y-r.y)<25))return void ke("doubleTap",n);if("mouse"===t.type)return void en(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void en(e,t);Ne(Qt,n),Xt=setTimeout(function(){en(e,t),Xt=null},300)}var i,r}}}),Ee("DesktopZoom",{publicMethods:{initDesktopZoom:function(){P||(R?_e("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Jt={};var n="wheel mousewheel DOMMouseScroll";_e("bindEvents",function(){o.bind(e,n,a.handleMouseWheel)}),_e("unbindEvents",function(){Jt&&o.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var i,r=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),g<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};_e("resize",r),_e("afterChange",r),_e("pointerDown",function(){a.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))}),_e("pointerUp",s),t||r()},handleMouseWheel:function(e){if(g<=a.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||We||G?e.preventDefault():A&&Math.abs(e.deltaY)>2&&(u=!0,a.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}qe(g,!0);var t=fe.x-Jt.x,n=fe.y-Jt.y;(s.modal||t<=te.min.x&&t>=te.max.x&&n<=te.min.y&&n>=te.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:pe.x/2+me.x,y:pe.y/2+me.y};var n=s.getDoubleTapZoom(!0,a.currItem),i=g===n;a.mouseZoomedIn=!i,a.zoomTo(i?a.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var tn,nn,on,rn,an,sn,cn,ln,un,dn,fn,pn,hn={history:!0,galleryUID:1},mn=function(){return fn.hash.substring(1)},vn=function(){tn&&clearTimeout(tn),on&&clearTimeout(on)},gn=function(){var e=mn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(s.galleryPIDs){var r=t.pid;for(t.pid=0,n=0;n<Pt.length;n++)if(Pt[n].pid===r){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},wn=function e(){if(on&&clearTimeout(on),We||G)on=setTimeout(e,500);else{rn?clearTimeout(nn):rn=!0;var t=d+1,n=qt(d);n.hasOwnProperty("pid")&&(t=n.pid);var i=cn+"&gid="+s.galleryUID+"&pid="+t;ln||-1===fn.hash.indexOf(i)&&(dn=!0);var o=fn.href.split("#")[0]+"#"+i;pn?"#"+i!==window.location.hash&&history[ln?"replaceState":"pushState"]("",document.title,o):ln?fn.replace(o):fn.hash=i,ln=!0,nn=setTimeout(function(){rn=!1},60)}};Ee("History",{publicMethods:{initHistory:function(){if(o.extend(s,hn,!0),s.history){fn=window.location,dn=!1,un=!1,ln=!1,cn=mn(),pn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),_e("afterChange",a.updateURL),_e("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){sn=!0,un||(dn?history.back():cn?fn.hash=cn:pn?history.pushState("",document.title,fn.pathname+fn.search):fn.hash=""),vn()};_e("unbindEvents",function(){u&&e()}),_e("destroy",function(){sn||e()}),_e("firstUpdate",function(){d=gn().pid});var t=cn.indexOf("pid=");t>-1&&"&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout(function(){c&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){if(mn()===cn)return un=!0,void a.close();rn||(an=!0,a.goTo(gn().pid),an=!1)},updateURL:function(){vn(),an||(ln?tn=setTimeout(wn,800):wn())}}}),o.extend(a,Je)}})?i.call(t,n,t,e):i)&&(e.exports=o)},function(e,t,n){var i,o;"function"==typeof Symbol&&Symbol.iterator,void 0!==(o="function"==typeof(i=function(){"use strict";return function(e,t){var n,i,o,r,a,s,c,l,u,d,f,p,h,m,v,g,w,y,b=this,x=!1,E=!0,T=!0,S={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(e){if(g)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!u&&M();for(var n,i,o=e.target||e.srcElement,r=o.getAttribute("class")||"",a=0;a<B.length;a++)n=B[a],n.onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),g=!0;var s=t.features.isOldAndroid?600:30;setTimeout(function(){g=!1},s)}},k=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},I=function(){var e=1===v.getNumItemsFn();e!==m&&(k(i,"ui--one-slide",e),m=e)},C=function(){k(c,"share-modal--hidden",T)},A=function(){return(T=!T)?(t.removeClass(c,"pswp__share-modal--fade-in"),setTimeout(function(){T&&C()},300)):(C(),setTimeout(function(){T||t.addClass(c,"pswp__share-modal--fade-in")},30)),T||R(),!1},O=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),T||A(),1))},R=function(){for(var e,t,n,i,o,r="",a=0;a<v.shareButtons.length;a++)e=v.shareButtons[a],n=v.getImageURLForShare(e),i=v.getPageURLForShare(e),o=v.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(o)),r+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(r=v.parseShareButtonOut(e,r));c.children[0].innerHTML=r,c.children[0].onclick=O},L=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},D=0,M=function(){clearTimeout(y),D=0,u&&b.setIdle(!1)},N=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(y),y=setTimeout(function(){b.setIdle(!0)},v.timeToIdleOutside))},P=function(e){p!==e&&(k(f,"preloader--active",!e),p=e)},F=function(n){var a=n.vGap;if(!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth){var s=v.barsSize;if(v.captionEl&&"auto"===s.bottom)if(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),v.addCaptionHTMLFn(n,r,!0)){var c=r.clientHeight;a.bottom=parseInt(c,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},B=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){c=e},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];b.init=function(){var a;t.extend(e.options,S,!0),v=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(d=e.listen)("onVerticalDrag",function(e){E&&e<.95?b.hideControls():!E&&e>=.95&&b.showControls()}),d("onPinchClose",function(e){E&&e<.9?(b.hideControls(),a=!0):a&&!E&&e>.9&&b.showControls()}),d("zoomGestureEnded",function(){(a=!1)&&!E&&b.showControls()}),d("beforeChange",b.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(i,"pswpTap click",_),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),d("unbindEvents",function(){T||A(),w&&clearInterval(w),t.unbind(document,"mouseout",N),t.unbind(document,"mousemove",M),t.unbind(i,"pswpTap click",_),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){v.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),c&&(c.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),b.setIdle(!1)}),v.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",function(){v.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(i,"pswp__ui--hidden")}),d("parseVerticalMargin",F),function(){var e,n,o,r=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var s=0;s<B.length;s++)o=B[s],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&r(a.children)}(),v.shareEl&&s&&c&&(T=!0),I(),v.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",M),t.bind(document,"mouseout",N),w=setInterval(function(){2==++D&&b.setIdle(!0)},v.timeToIdle/2)}),v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),v.preloaderEl&&(P(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&P(!1):P(!0)},v.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&P(!0)}))},b.setIdle=function(e){u=e,k(i,"ui--idle",e)},b.update=function(){E&&e.currItem?(b.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),k(o,"caption--empty",!e.currItem.title)),x=!0):x=!1,T||A(),I()},b.updateFullscreen=function(i){i&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){v.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},b.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(L(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(E?b.hideControls():b.showControls()),v.tapToClose&&(t.hasClass(i,"pswp__img")||L(i)))return void e.close()},b.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;k(i,"ui--over-close",L(t))},b.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),E=!1},b.showControls=function(){E=!0,x||b.update(),t.removeClass(i,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(l=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=l,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})?i.call(t,n,t,e):i)&&(e.exports=o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.photoCaptionIcon=['<i class="theme-color-primary">','<svg xmlns="http://www.w3.org/2000/svg" width="13px" height="12px" viewBox="0 0 13 12" style="width: 13.5px; height: 11.25px">','<ellipse id="Oval" cx="6.5" cy="6.7826087" rx="2" ry="2.08695652"></ellipse>','<path d="M4.625,0.260869565 L3.48125,1.56521739 L1.5,1.56521739 C0.8125,1.56521739 0.25,2.15217391 0.25,2.86956522 L0.25,10.6956522 C0.25,11.4130435 0.8125,12 1.5,12 L11.5,12 C12.1875,12 12.75,11.4130435 12.75,10.6956522 L12.75,2.86956522 C12.75,2.15217391 12.1875,1.56521739 11.5,1.56521739 L9.51875,1.56521739 L8.375,0.260869565 L4.625,0.260869565 L4.625,0.260869565 Z M6.5,10.0434783 C4.775,10.0434783 3.375,8.5826087 3.375,6.7826087 C3.375,4.9826087 4.775,3.52173913 6.5,3.52173913 C8.225,3.52173913 9.625,4.9826087 9.625,6.7826087 C9.625,8.5826087 8.225,10.0434783 6.5,10.0434783 L6.5,10.0434783 Z" id="Shape"></path>',"</svg>","</i>"].join(""),t.expandIcon=['<svg class="can-open-lightbox__icon" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',"<defs>",'<path id="a" fill="#fff" d="M0 12.655V0h7.03v12.655z"/>','<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="c">','<feOffset in="SourceAlpha" result="shadowOffsetOuter1"/>','<feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>','<feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>',"<feMerge>",'<feMergeNode in="shadowMatrixOuter1"/>','<feMergeNode in="SourceGraphic"/>',"</feMerge>","</filter>",'<path id="d" fill="#fff" d="M0 12.648V0h7.027v12.648z"/>',"</defs>",'<g transform="translate(-4.622 -2.628)" opacity=".5" fill="none">','<g transform="rotate(-45 7.363 21.845) translate(3.827 15.48)">','<mask id="b"><use xlink:href="#a"/></mask>','<path d="M6.326 12.655c.18 0 .36-.07.497-.206.274-.28.274-.72 0-1L1.696 6.33 6.824 1.2c.275-.275.275-.72 0-.994-.275-.275-.72-.275-.994 0L.205 5.83c-.275.276-.275.72 0 .995l5.623 5.624c.138.13.318.2.498.2" fill="#fff" mask="url(#b)"/>',"</g>",'<g filter="url(#c)" transform="matrix(-.707 .707 -.707 -.707 28.533 9.647)">','<mask id="e">','<use xlink:href="#d"/>',"</mask>",'<path d="M6.322 12.648c.18 0 .36-.068.497-.205.27-.275.27-.72 0-.994L1.69 6.32 6.82 1.2c.275-.275.275-.72 0-.994-.275-.275-.72-.275-.993 0L.205 5.828c-.275.275-.275.72 0 .994l5.62 5.62c.137.138.317.206.497.206" fill="#fff" mask="url(#e)"/>',"</g>",'<rect fill="#fff" transform="rotate(-45 8.842 20.159)" x="3.972" y="19.527" width="9.741" height="1.265" rx=".632"/>','<rect fill="#fff" transform="rotate(-45 19.452 9.55)" x="14.582" y="8.917" width="9.741" height="1.265" rx=".632"/>',"</g>","</svg>"].join(""),t.lightboxMarkup=['<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">','<div class="pswp__bg"></div>','<div class="pswp__scroll-wrap">','<div class="pswp__container">','<div class="pswp__item"></div>','<div class="pswp__item"></div>','<div class="pswp__item"></div>',"</div>",'<div class="pswp__ui pswp__ui--hidden">','<div class="pswp__top-bar">','<button class="pswp__button pswp__button--close" title="Close (Esc)">','<svg width="100%" height="100%" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">','<path d="M12.877 10.32c-.183-.183-.183-.457 0-.64l6.85-6.85c.182-.182.273-.456.273-.638 0-.183-.09-.457-.274-.64L18.446.275C18.266.09 17.992 0 17.81 0c-.274 0-.456.09-.64.274l-6.848 6.85c-.183.182-.457.182-.64 0L2.83.274C2.65.09 2.375 0 2.193 0c-.183 0-.457.09-.64.274L.275 1.554C.09 1.734 0 2.008 0 2.19s.09.456.274.64l6.85 6.848c.182.183.182.457 0 .64l-6.85 6.85c-.183.182-.274.456-.274.638 0 .183.09.457.274.64l1.28 1.278c.18.183.455.274.638.274.182 0 .456-.09.64-.274l6.848-6.85c.183-.182.457-.182.64 0l6.85 6.85c.182.183.456.274.638.274.183 0 .457-.09.64-.274l1.278-1.28c.183-.18.274-.455.274-.638 0-.182-.09-.456-.274-.64l-6.85-6.848z" fill="#fff"/>',"</svg>","</button>",'<div class="pswp__preloader">','<div class="pswp__preloader__icn">','<div class="pswp__preloader__cut">','<div class="pswp__preloader__donut"></div>',"</div>","</div>","</div>","</div>",'<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">','<div class="pswp__share-tooltip"></div>',"</div>",'<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">','<svg height="100%" width="100%" xmlns="http://www.w3.org/2000/svg">','<path fill="#fff" d="M43.31 38.815l-1.117-1.118L5.166.694C4.24-.23 2.74-.23 1.813.694l-1.12 1.12c-.925.926-.925 2.427 0 3.353l35.35 35.325L.693 75.818c-.926.926-.926 2.428 0 3.353l1.12 1.12c.925.93 2.426.93 3.352 0l37.024-37 1.12-1.12c.92-.92.92-2.42 0-3.35z"/>',"</svg>","</button>",'<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">','<svg height="100%" width="100%" xmlns="http://www.w3.org/2000/svg">','<path fill="#fff" d="M43.31 38.815l-1.117-1.118L5.166.694C4.24-.23 2.74-.23 1.813.694l-1.12 1.12c-.925.926-.925 2.427 0 3.353l35.35 35.325L.693 75.818c-.926.926-.926 2.428 0 3.353l1.12 1.12c.925.93 2.426.93 3.352 0l37.024-37 1.12-1.12c.92-.92.92-2.42 0-3.35z"/>',"</svg>","</button>",'<div class="pswp__caption">','<div class="pswp__caption__center"></div>',"</div>",'<div class="pswp__counter"></div>',"</div>","</div>","</div>"].join("")},function(e,t,n){"use strict";function i(){c||(c=!0,requestIdleCallback(o,{timeout:2e3}))}function o(e){for(c=!1,void 0===e&&(e={timeRemaining:function(){return Number.MAX_VALUE}});e.timeRemaining()>0&&s.length>0;){var t=s.pop();ga(cdaaas.SETTINGS.SITE_ID+"_portal.send","event",t.gaEv_category,t.gaEv_action,t.gaEv_label)}s.length>0&&i()}function r(e,t,n){s.push({gaEv_category:e,gaEv_action:t,gaEv_label:n}),i()}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTrackEvents=function(e){var t,n,i,o,s,c,d,f,p,h,m;m=(h=e).init,h.init=function(){m();var e=h.currItem.el.classList;if(e.contains("content-top-image"))r(l,"clique na foto","imagem destacada");else{var t=e.contains("mc-column")?"menor destaque":"maior destaque";r(l,"clique na foto",t)}},f=(d=e).zoomTo,p=(0,a.debounce)(function(){r(l,u,"zoom na foto")},500),d.zoomTo=function(e,t,n,i,o){f(e,t,n,i,o),p()},e.listen("close",function(){r(l,u,"clique no botao fechar")}),o=(i=e).prev,s=i.next,c=i.options.index,i.prev=function(){r(l,u,"navegacao para esquerda"),o()},i.next=function(){r(l,u,"navegacao para direita"),s()},i.listen("mainScrollAnimComplete",function(){var e=i.getCurrentIndex();if(c!==e){var t=c===i.items.length-1&&0===e,n=0===c&&e===i.items.length-1;c<e||t?r(l,u,"navegacao para direita"):(c>e||n)&&r(l,u,"navegacao para esquerda"),c=e}}),n=(t=e).init,t.init=function(){n(),document.querySelector(".pswp.pswp--touch")&&t.framework.bind(t.scrollWrap,"pswpTap",function(){document.querySelector(".pswp__ui--hidden")?r(l,u,"exibir creditos e legendas"):r(l,u,"ocultar creditos e legendas")})}};var a=n(7);window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var s=[],c=!1,l="lightbox de midias",u="interacoes no lightbox"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){var i;return function(){var o=this,r=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(o,r)},t),a&&e.apply(o,r)}},t.map=function(e,t){return[].map.call(e,t)},t.dispatchEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new CustomEvent("openLightbox",n);document.querySelector(t).dispatchEvent(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapElementToLightboxItem=function(e,t){var n=e.querySelector("picture > img"),o=e.querySelector(".progressive-img"),r=o.getAttribute("data-min-size").split("x"),a=o.getAttribute("data-max-size").split("x");return o.setAttribute("data-media-index",t),o.classList.add("can-open-lightbox"),o.innerHTML+=i.expandIcon,{smallImage:{src:o.getAttribute("data-min-size-url"),w:r[0],h:r[1]},largeImage:{src:o.getAttribute("data-max-size-url"),w:a[0],h:a[1]},title:n.getAttribute("title"),msrc:o.querySelector(".progressive-draft").src,el:e,type:"photo",getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33}}},t.applyResponsiveness=function(e){var t=void 0,n=!1,i=!0,o=void 0;e.listen("beforeResize",function(){t=e.viewportSize.x*window.devicePixelRatio,n&&t<1e3?(n=!1,o=!0):!n&&t>=1e3&&(n=!0,o=!0),o&&!i&&e.invalidateCurrItems(),i&&(i=!1),o=!1}),e.listen("gettingData",function(e,t){n?(t.src=t.largeImage.src,t.w=t.largeImage.w,t.h=t.largeImage.h):(t.src=t.smallImage.src,t.w=t.smallImage.w,t.h=t.smallImage.h)})};var i=n(5)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapElementToLightboxIframe=function(e,t){var n='<iframe id="votation-iframe'+t+'" src="'+e.getAttribute("data-source")+'" width="100%" height="100%" style="overflow: hidden"></iframe>';return e.querySelector(".can-open-lightbox-iframe").setAttribute("data-media-index",t),{html:n}},t.defaultLightboxIframeOptions={closeEl:!1,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,arrowEl:!1,mainClass:"lightbox-iframe"}},function(e,t){"use strict";function n(){var e=window.innerWidth;return e>=878&&(e=878),{width:e,height:parseFloat(9*e/16,10)}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapElementToLightboxItem=function(e){var t,i,o,r,a,s,c,l=e.getAttribute("data-video-id"),u=e.getAttribute("data-zone-id")||cdaaas.SETTINGS.ZONE_ID,d=e.getAttribute("data-ad-unit")||cdaaas.SETTINGS.TAG_MANAGER_AD_UNIT,f=e.getAttribute("data-ad-custom-data")||cdaaas.SETTINGS.TAG_MANAGER_AD_CUSTOM_DATA,p=((c=window.document.createElement("div")).classList.add("lightbox__item--centralized"),c),h=(t=l,i=u,o=d,r=f,a=n(),s={videosIDs:t,autoPlay:!1,zoneId:i,adUnit:o,adCustomData:r,height:a.height,width:a.width},new WM.Player(s));return h.attachTo(p),{type:"video",html:p,player:h,w:e.getBoundingClientRect().width,h:e.getBoundingClientRect().height,getDoubleTapZoom:function(e,t){return 1}}},t.applyResponsiveness=function(e){e.listen("resize",function(){var e=n();this.currItem.player.resize({width:e.width,height:e.height})})},t.pauseVideoOnClose=function(e){e.listen("close",function(){this.currItem.player.stopVideo()})}}])},function(e,t){!function(e,t){"use strict";var n=t(e);e._gaq=e._gaq||[],e.glb=e.glb||{},e.glb.ElementTracker=e.glb.ElementTracker||function(){var i=30,o=!0,r={scrollTrackItems:[],scrollbarTrackingBreakpoints:null,scrollbarTrackingContext:null},a={value:0,noninteraction:!1};function s(){t("body").on("click.event-tracker","[data-track-click]",function(){return d(t(this)),!0})}function c(){!function(){var e,n,i=t("[data-track-scroll]");for(e=0;e<i.length;e++)n=i.eq(e),r.scrollTrackItems.push(n)}(),n.on("scroll.event-tracker",function(){o&&(o=!1,setTimeout(function(){var t=m();u(t),r.scrollbarTrackingBreakpoints&&function(t){var n,i,o,a,s,c,l=r.scrollbarTrackingContext.height(),u=r.scrollbarTrackingBreakpoints,d=[];for(var f in u)n=u[f][0],o=u[f][1],a=u[f][2],s=u[f][3],c=u[f][4],i=n.toString(),t<n*l/100?d.push(u[f]):(e._gaq.push(["_setCustomVar",o,a,i,s]),e._gaq.push(["_trackEvent",a,i,c,!0]));r.scrollbarTrackingBreakpoints=d}(t),o=!0},150))}),u(m())}function l(){t("body").on("click.event-tracker","[data-track-links]",function(e){"A"===e.target.tagName&&p(t(e.target))})}function u(e){var t,n,o=[];for(n=0;n<r.scrollTrackItems.length;n++)e>(t=r.scrollTrackItems[n]).offset().top+i?f(t):o.push(t);r.scrollTrackItems=o}function d(e){h(e,{label:e.data("track-click")})}function f(e){h(e,{label:e.data("track-scroll")})}function p(e){h(e,{action:e.text(),label:e.attr("href")})}function h(n,i){0===n.closest("[data-track-disabled]").length&&(i=i||{},t.each(["category","action","value","noninteraction"],function(e,t){var o,r;i[t]||(r=t,o=n.closest("[data-track-"+r+"]").data("track-"+r),i[t]=o||a[t])}),e._gaq.push(["_trackEvent",i.category,i.action,i.label,i.value,i.noninteraction]))}function m(){return function(){return n.scrollTop.apply(n,arguments)}()+n.height()}return{init:function(){return s(),c(),l(),this},destroy:function(){t("body").off(".event-tracker"),t(e).off(".event-tracker")},initClicks:s,initScroll:c,initLinks:l,push:h,pushClick:d,pushScroll:f,pushLink:p,getInfo:function(){return r},removeElementsVisualized:u,enableScrollbarTrackingByBreakpoint:function(e,t){r.scrollbarTrackingContext=e,r.scrollbarTrackingBreakpoints=t}}}(),e.glb.ElementTracker.init()}(window,jQuery)},function(e,t){new function(){"use strict";var e=this,t={treatCallback:function(e,t){void 0!==t&&t(e)},waitForFinish:function(e,t){var n=this;e.addEventListener("load",function(){n.treatCallback(e,t)})}};this.initialize=function(){this.loadMedias(),this.loadCSSs(),this.loadScripts()},this.loadCSSs=function(t){var n=document.querySelectorAll("link[data-src]");e.load(n,"href",t)},this.loadScripts=function(t){var n=document.querySelectorAll("script[data-src]");e.load(n,"src",t)},this.loadMedias=function(){this.loadImages(),this.loadGifs()},this.loadImages=function(){for(var t=document.querySelectorAll(".progressive-img picture"),n=t.length-1;n>=0;n--)window.ScrollSpy.add({el:t[n].parentNode,offset:800,callback:function(t){var n=t.querySelectorAll("picture")[0],i=n.querySelectorAll("source"),o=n.querySelectorAll("img");o.length&&e.load(o,"src",e.onLoadImages),e.load(i,"srcset")}})},this.loadGifs=function(){for(var t=document.querySelectorAll(".content-media__gif-container"),n=t.length-1;n>=0;n--)window.ScrollSpy.add({el:t[n],offset:800,callback:function(t){var n=t.querySelectorAll(".content-media__gif-container__gif-player")[0],i=t.querySelectorAll(".content-media__gif-container__gif-placeholder")[0],o=t.querySelectorAll("source");e.load(o,"src"),n.load(),n.addEventListener("loadeddata",function(){i.style.display="none"},!1)}})},this.onLoadImages=function(e){e.classList.add("progressive-loaded")},this.load=function(e,n,i){0===e.length&&t.treatCallback(i);for(var o=0;o<e.length;o++)r=void 0,r=e[o],a=r.getAttribute("data-src"),r.setAttribute(n,a),t.waitForFinish(r,i);var r,a},this.initialize()}},function(e,t){var n,i,o;n=window,i=cdaaas,o=i.helpers.urlCanonical(),n.glb_realtime_map={site:i.SETTINGS.SITE_NAME.toLowerCase(),categories:i.SETTINGS.CATEGORIAS,url:o.replace("https","http")},i.helpers.loadScript(i.SETTINGS.REALTIME_PAGEVIEW)},function(e,t,n){"use strict";var i=n(0),o=n(8);const r=document.querySelector(".mc-body"),a=document.querySelector(".feed"),s=window.cdaaas.SETTINGS,c=s.SITE_ID,l=s.CHANNEL,u=s.IS_PREVIEW,d=window.cdaaas.SETTINGS.RESOURCE.ID,f=window.utag_data,p=f.platform,h=f.has_top_photo,m=f.bs_content_type;"qa"===window.utag_data["ut.env"]&&i.Settings.useQAConfiguration();!u&&c&&new class{constructor(){this.horizon=new i.HorizonClient(c,l,"multicontent"),this.chunks=this.getChunks(),this.sendMcView=this.debounce(this.sendMulticontentView,200),this.sendHorizonEvent("multicontent-load","3.0",{multicontentId:d,chunkTotal:this.chunks.length,hasTopPhoto:"True"===h,pageType:"multi-content",contentType:m,deviceGroup:p,environment:"web"}),this.multicontent={element:r,timeVisible:0,views:[]},this.feed={element:a,viewed:!1},window.addEventListener("scroll",this.debounce(()=>{this.checkFeed(),this.check()},250)),document.body.addEventListener("click",this.checkChunkClick.bind(this),!0),window.setTimeout(()=>this.check(),500),window.setInterval(()=>{function e(e,t){const n=e.views[e.views.length-1],i=Math.floor(Date.now());n&&"visible"===n.type&&(e.timeVisible=i-n.time,"chunk"===t?this.sendHorizonEvent("multicontent-chunk-view","3.0",{chunkType:e.chunkType,chunkPosition:e.position+1,chunkInteraction:this.hasChunkInteraction(e),viewedTimeMs:e.timeVisible,wordCount:this.getWordCount(e),height:e.offsetHeight,width:e.offsetWidth}):this.sendMcView())}this.chunks.forEach(t=>{e.call(this,t,"chunk")}),e.call(this,this.multicontent,"content")},1e4),window.addEventListener("beforeunload",function(){this.horizon.unload()})}findRealTarget(e){return e?null!==e.getAttribute("data-block-type")?e:e===document.body?null:this.findRealTarget(e.parentNode):null}check(){this.checkChunks(),this.checkLayer()}checkChunkClick(e){const t=e.target,n=this.findRealTarget(t);if(n){const e=n.getAttribute("data-block-id");if(e){let n=this.chunks[e];if(this.hasChunkInteraction(n)){n.clickCount+=1;let e="";e="Shape"===t.id?"Pause":"Triangle"===t.id?"Play":t.innerText||t.textContent||"Player",this.sendHorizonEvent("multicontent-element-click","3.0",{chunkType:n.chunkType,chunkPosition:n.position+1,clickCount:n.clickCount,clickLabel:e,clickedTimestamp:Date.now()})}}}}checkFeed(){(0,o.isLayerInViewport)(this.feed,!1)&&(this.feed.viewed=!0)}checkChunks(){let e=this.chunks;for(let t=0;t<e.length;t++)this.addTimestampToChunk(e[t])}checkLayer(){const e=Math.floor(Date.now());let t=this.multicontent,n=this.checkChunkViewStatus(t);(0,o.isLayerInViewport)(t,!0)?0!==t.views.length&&"visible"===n||(t.views.push({type:"visible",time:e}),t.views.length>1&&this.sendMcView()):(0!==t.views.length&&"invisible"===n||(t.views.push({type:"invisible",time:e}),t.views.length>1&&this.sendMcView()),this.updateTimeVisible(t))}checkChunkViewStatus(e){return e.views.length>0?e.views[e.views.length-1].type:"invisible"}sendMulticontentView(){this.sendHorizonEvent("multicontent-view","4.0",{feedSeen:this.feed.viewed,timeOnMulticontent:this.multicontent.timeVisible})}addTimestampToChunk(e){const t=Math.floor(Date.now());if(e.views.length<=0)(0,o.isInViewport)(e.chunk)&&e.views.push({type:"visible",time:t});else{let n=e.views[e.views.length-1];(0,o.isInViewport)(e.chunk)?"invisible"===n.type&&e.views.push({type:"visible",time:t}):"visible"===n.type&&(e.views.push({type:"invisible",time:t}),this.updateTimeVisible(e),this.sendHorizonEvent("multicontent-chunk-view","3.0",{chunkType:e.chunkType,chunkPosition:e.position+1,chunkInteraction:this.hasChunkInteraction(e),viewedTimeMs:e.timeVisible,wordCount:this.getWordCount(e),height:e.offsetHeight,width:e.offsetWidth}))}}sendHorizonEvent(e,t,n){try{document.hidden||this.horizon.send({id:e,version:t,properties:n})}catch(e){console.error("HORIZON TRACKING: ",e)}}hasChunkInteraction({chunk:e,chunkType:t}){return"paragraph"!==t||e.getElementsByTagName("a").length>0}updateTimeVisible(e){const t=e.views[0].time,n=e.views[e.views.length-1].time;e.timeVisible=n-t}getWordCount(e){return"paragraph"===e.chunkType?e.chunk.innerText.split(" ").length:0}getChunkType(e){const t=e.getAttribute("data-block-type");return t?"unstyled"===t||"raw"===t?"paragraph":t.replace("backstage-",""):"unknown"}getChunks(){let e=document.querySelectorAll("[data-block-type]"),t=[];for(let n=0;n<e.length;n++){let i=e[n];i&&(i.setAttribute("data-block-id",n),t.push({position:n,chunk:i,chunkType:this.getChunkType(i),offsetHeight:i.offsetHeight,offsetWidth:i.offsetWidth,clickCount:0,timeVisible:0,views:[]}))}return t}debounce(e,t,n=this){let i=null,o=null;const r=()=>e.apply(n,o);return function(){o=arguments,clearTimeout(i),i=setTimeout(r,t)}}}},function(e,t,n){"use strict";function i(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.bottom<=n.top||i.right<=n.left||i.left>=n.right||i.top>=n.bottom}function o(e){const t=document.defaultView.getComputedStyle(e),n=t.getPropertyValue("overflow-x"),i=t.getPropertyValue("overflow-y");return"visible"!==n||"visible"!==i}function r(e,t){if(t)return i(e,t);let n=e.parentElement;for(;n&&n!==document.body;){if(o(n))return i(e,n);n=n.parentElement}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isInViewport=function(e){const t=e.getBoundingClientRect(),n=document.documentElement;return!r(e)&&t.top>=0-t.height/2&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)+t.height/2&&t.right<=(window.innerWidth||n.clientWidth)},t.isLayerInViewport=function(e,t){const n=e.element.getBoundingClientRect(),i=document.documentElement.clientHeight/2,o=i/2*3;if(t)return!r(e.element)&&(n.top<=i&&n.bottom>=i||n.top>=0&&n.bottom<=n.height&&n.bottom>=i);return!r(e.element)&&n.top>=0&&n.top<=o}},function(e,t,n){"use strict";var i,o=(i=n(10))&&i.__esModule?i:{default:i};!function(){if(!window.cdaaas.SETTINGS.MULTICONTENT)return;const e=".mc-article-body",t=".mc-column",n="mc-read-more-wrapper",i="mc-read-more-btn",r="theme-color-primary",a=window.cdaaas.SETTINGS.MOBILE_GROUP,s=window.cdaaas.SETTINGS.MULTICONTENT.BUTTON_READ_MORE;const c=function(e,t,n){var i,o;i="ga",o=(()=>{window.ga(window.cdaaas.SETTINGS.AB_PRODUCT_NAME+"_portal.send","event",e,t,n)}),window.setTimeout(function e(){window[i]?o():window.setTimeout(e,10)},10)};if(s.VISIBLE&&"smart"===a){const a=window.cdaaas.SETTINGS.AB_EXPERIMENT_NAME,l=document.createElement("a");if(l.href=window.cdaaas.SETTINGS.AB_ROUTE_PAGEVIEW,a&&0===a.length)return;o.default.v2.server=window.location.protocol+"//"+l.hostname,o.default.v2.get(a,{},o=>{if(o&&""!==o){let l=!1;const u={chunkLimit:s.MIN_LIMIT,label:s.LABEL,position:s.POSITION,ab:o,off:!1};"com-botao"===o.alternative&&(l=!0),function(e,t,n){const i={enumerable:!0,configurable:!1,writable:!1};Object.defineProperty(window.utag_data,"nome_experimento",Object.assign({},i,{value:t})),Object.defineProperty(window.utag_data,"versao_experimento",Object.assign({},i,{value:e})),Object.defineProperty(window.utag_data,"has_button",Object.assign({},i,{value:n}))}(o.alternative,a,l),new class{constructor(n){this.options=n,this.articleBody=document.querySelector(e),this.chunks=this.articleBody.querySelectorAll(t),this.chunkPosition=null,this.chunk=null,this.btn=null,this.impression=!1,this.conversion=!1,this.feed=document.querySelector(".feed__legend"),n.off?window.addEventListener("scroll",this.debounce(this.checkConversions.bind(this),250)):this.chunks.length>=n.chunkLimit&&(this.load(),window.addEventListener("scroll",this.debounce(()=>{this.checkImpressions(),this.checkConversions()},250)))}checkImpressions(){!this.impression&&this.isInViewport(this.btn)&&(c("preview de conteudo","view","veja mais"),this.impression=!0)}checkConversions(){!this.conversion&&this.isInViewport(this.feed)&&(this.conversion=!0,this.options.ab.recordConversion())}isInViewport(e){let t=e.getBoundingClientRect(),n=document.documentElement;return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)&&t.right<=(window.innerWidth||n.clientWidth)}createBtn(){let e=document.createElement("button"),t=document.createElement("div");return t.classList.add(n),e.classList.add(i),e.classList.add(r),e.innerHTML=this.options.label,t.appendChild(e),e.addEventListener("click",this.showArticle.bind(this)),this.articleBody.appendChild(t),t}calculateArticleSize(e){const t=document.querySelector(".content-top-image");let n=e.offsetTop;return n+=t?150:250,this.isImage(e)&&(n+=parseInt(.2*e.offsetHeight)),n}isImage(e){return e.className.indexOf("content-photo")>-1}isAd(e){return e.innerHTML.indexOf("content-ads")>-1}isText(e){return e&&e.dataset.blockType&&"unstyled"===e.dataset.blockType}calculateAdSize(e){let t=0;for(let n=0;n<e.length&&this.chunkPosition!==n;n++)this.isAd(e[n])&&t++;return t}cropArticle(e){const t=this.createBtn(),n=parseInt(this.calculateArticleSize(e));this.btn=t,this.articleBody.classList.add("cropped"),this.articleBody.style.height=n+"px"}showArticle(e){e.preventDefault(),document.removeEventListener("click",this.showArticle,!1),this.options.ab.recordConversion(),this.articleBody.classList.remove("cropped"),this.articleBody.style.height="auto",c("preview de conteudo","click","botao veja mais")}hasBeforeText(e){let t=!1;if(null!==this.chunks[e-1])for(let n=e-1;n>=0;n--){let e=this.chunks[n];if(this.isText(e)){t=!0;break}}return t}findNewPosition(e){let t=null;for(let n=e+1;n<=this.chunks.length;n++){let e=this.chunks[n];if(this.isText(e)&&null!==this.chunks[n+1]){t=n+1;break}}return t}load(){const e=this.chunks[this.options.position];let t,n=this.options.position-1;if(this.chunkPosition=this.isAd(e)?n+1:n,this.chunk=this.chunks[this.chunkPosition],t=this.hasBeforeText(this.chunkPosition))this.chunk=this.chunks[this.chunkPosition],this.cropArticle(this.chunk);else{if(this.chunkPosition=this.findNewPosition(this.chunkPosition),null===this.chunkPosition)return;this.chunk=this.chunks[this.chunkPosition],this.cropArticle(this.chunk)}}debounce(e,t,n=this){let i=null,o=null;const r=()=>e.apply(n,o);return function(){o=arguments,clearTimeout(i),i=setTimeout(r,t)}}}(Object.assign({},u,{off:!l}))}})}}()},function(e,t,n){const i=n(11),o=function(){const e={v2:{version:"2.1.9"}},t={v1:{}};return e.mab=t,e.v2.getMulti=function(t,n,o,r=function(){}){const a=t.join(",");i.server(e.v2.server),i.getSelectedAlternatives("experiments",a,n,o,r)},e.v2.get=function(t,n,o,r=function(){}){const a={};n&&void 0!==n.skipImpression&&(a.skipImpressions=n.skipImpression);e.v2.getMulti([t],a,function(e){i.callIfDefined(o,e.experiments[t])},r)},e.v2.getLocation=function(t,n,o,r=function(){}){void 0===n&&(n={}),void 0!==n.skipImpression&&(n.countImpressions=!n.skipImpression,delete n.skipImpression),n.drawed=!0;i.server(e.v2.server),i.doRequest("GET","/ab/location/"+t,n,null,function(e){const t=JSON.parse(e.responseText);let n={};for(const o in t)if(t.hasOwnProperty(o)){const e=t[o];e.experiment=o,delete e.canCountImpression,delete e.canCountConversion,n=new i.Experiment(e)}i.callIfDefined(o,n)},r)},e.v2.recordImpression=function(t){i.server(e.v2.server),i.recordMetric("impression",t)},e.v2.recordConversion=function(t){i.server(e.v2.server),i.recordMetric("conversion",t)},t.v1.get=function(t,n,o,r=function(){}){i.server(e.v2.server),i.getSelectedArm(t,n,o,r)},t.v1.recordImpression=function(t,n,o=function(){},r=function(){}){i.server(e.v2.server),i.recordMABMetric("increment",t,n,o,r)},t.v1.reward=function(t,n,o=function(){},r=function(){}){i.server(e.v2.server),i.recordMABMetric("reward",t,n,o,r)},e}();e.exports=o},function(e,t,n){const i=n(12),o=function(){const e={};let t=null;return e.server=function(t){e.host=t||"",e.environment=e.host.includes("globoi.com")?"qa1":e.host.includes("globo.com")?"prod":"local"},e.sentry=function(){return t||(t=new i(e.environment,"//64a9a11afb1f4a3588379b95d901eb9e@web.sentry.globoi.com/101",{environment:e.environment},100)),t.collect=Math.random()<=.2,t},e.Experiment=function(){function t(e){for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];this[t]=n}}return t.prototype.recordImpression=function(){e.recordMetric("impression",this)},t.prototype.recordConversion=function(){e.recordMetric("conversion",this)},t}(),e.MABExperiment=function(){function t(e){for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];this[t]=n}}return t.prototype.recordImpression=function(){e.recordMABMetric("increment",this)},t.prototype.reward=function(){e.recordMABMetric("reward",this)},t}(),e.doRequest=function(t,n,i,o,r,a){let s="";const c=e.interceptParams(n,i);for(const e in c)c.hasOwnProperty(e)&&(s+="&"+e+"="+c[e]);s&&(s="?"+s.substring(1));const l=e.host+n+s,u=e.creatXHR();u.open(t,l,!0),u.onload=function(){u.status>=200&&u.status<400?e.callIfDefined(r,u):e.callIfDefined(a,u)},u.onerror=function(t){let i={level:"error",tags:{type:"error",query:s,path:n}};e.sentry().sendMessage("Request error",i),e.callIfDefined(a,t)},u.ontimeout=function(t){let i={level:"error",tags:{type:"timeout",query:s,path:n}};e.sentry().sendMessage("Request timeout",i),e.callIfDefined(a,t)},o&&(u.setRequestHeader("Content-Type","application/json;charset=utf-8"),o=JSON.stringify(o)),u.send(o)},e.recordMetric=function(t,n){const i="/v2/tests/"+n.testId+"/"+t,o={experiment:n.experiment,alternative:n.alternative};e.doRequest("PUT",i,null,o)},e.getSelectedAlternatives=function(t,n,i,o,r=function(){}){(i=i||{})[t]=n;e.doRequest("GET","/v2/selected-alternatives",i,null,function(t){const n=JSON.parse(t.responseText),i={};for(const o in n.experiments)if(n.experiments.hasOwnProperty(o)){const t=n.experiments[o],r=new e.Experiment(t);i[o]=r}n.experiments=i,e.callIfDefined(o,n)},r)},e.creatXHR=function(){const e=new XMLHttpRequest;return e.withCredentials=!0,e.timeout=500,e},e.isCompatibleWithPlugin=function(){return!!window.chrome&&!!window.chrome.webstore},e.getDocumentLocationSearch=function(){return document.location.search},e.getPluginParams=function(){const t={},n=["ab-client-context","ab-client-experiment","ab-client-alternative"],i=e.getDocumentLocationSearch().substr(1).split("&");for(const e in i)if(i.hasOwnProperty(e)){const o=i[e].split("=");n.indexOf(o[0])>-1&&(t[o[0]]=o[1])}return t},e.getExperimentSettings=function(t,n){const i=e.getPluginParams();if(t&&i["ab-client-context"]===t&&i["ab-client-experiment"]){const e={experiment:i["ab-client-experiment"],alternative:i["ab-client-alternative"]};return e.alternative||delete e.alternative,e}return n&&i["ab-client-experiment"]===n&&i["ab-client-alternative"]?{alternative:i["ab-client-alternative"]}:{}},e.interceptParams=function(t,n){try{if(e.isCompatibleWithPlugin()&&t){let i,o;if(t.indexOf("/location/")>-1){const e=t.split("/");i=e[e.length-1]}else t.indexOf("selected-alternatives")>-1&&(o=n.experiments);if(o||i)return Object.assign({},n,e.getExperimentSettings(i,o))}}catch(e){console.error(e)}return n},e.recordMABMetric=function(t,n,i,o,r){const a="/mab/"+n.experiment+"/"+t,s={arm:n.arm,testId:n.testId,abAlternative:n.abAlternative};n.metadata?s.metadata=n.metadata:i&&i.metadata&&(s.metadata=i.metadata),e.doRequest("POST",a,{},s,o,r)},e.getSelectedArm=function(t,n,i,o=function(){}){const r=n||{};let a="",s="GET";r&&void 0!==r.skipImpression&&!0===r.skipImpression?a="/mab/"+t+"/choose":(a="/mab/"+t+"/chooseAndIncrement",s="POST");e.doRequest(s,a,null,null,function(o){const r=JSON.parse(o.responseText);r.experiment=t,n&&n.metadata&&(r.metadata=n.metadata),e.callIfDefined(i,new e.MABExperiment(r))},o)},e.callIfDefined=function(e,t){e&&e(t)},e}();e.exports=o},function(e,t,n){const i=n(13),o=function(){function e(e,t,n={},i=500){this.env=e,this.dsn=t,this.raven,this.tags=n,this.collect=42==Math.round(Math.random()*i),this.allMessages=[],this.configureRaven()}return e.prototype.configureRaven=function(){const e=this;this.raven=i.config(this.dsn,{environment:this.env,debug:!1,tags:this.tags}).setShouldSendCallback(function(t){return e.allMessages.includes(t.message)}).install().noConflict()},e.prototype.sendMessage=function(e,t={level:"info"}){this.collect&&(this.allMessages.push(e),this.raven.captureMessage(e,t))},e.prototype.sendException=function(e,t={}){this.collect&&(this.allMessages.push(e.name+": "+e.message),this.raven.captureException(e,t))},e}();e.exports=o},function(e,t,n){var i;!function(n,o){"use strict";var r={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7,debug:!1},a=[].slice,s="?";r.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw r.report(e),e}}},r.report=function(){var e,t,i=[],s=null,c=null,l=null;function u(e,t){var n=null;if(!t||r.collectWindowErrors){for(var o in i)if(M(i,o))try{i[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function d(t,n,i,o,a){if(l)r.computeStackTrace.augmentStackTraceWithInitialElement(l,n,i,t),f();else if(a)u(r.computeStackTrace(a),!0);else{var s={url:n,line:i,column:o};s.func=r.computeStackTrace.guessFunctionName(s.url,s.line),s.context=r.computeStackTrace.gatherContext(s.url,s.line),u({message:t,url:document.location.href,stack:[s]},!0)}return!!e&&e.apply(this,arguments)}function f(){var e=l,t=s;s=null,l=null,c=null,u.apply(null,[e,!1].concat(t))}function p(e,t){var i=a.call(arguments,1);if(l){if(c===e)return;f()}var o=r.computeStackTrace(e);if(l=o,c=e,s=i,n.setTimeout(function(){c===e&&f()},o.incomplete?2e3:0),!1!==t)throw e}return p.subscribe=function(o){t||(e=n.onerror,n.onerror=d,t=!0),i.push(o)},p.unsubscribe=function(e){for(var t=i.length-1;t>=0;--t)i[t]===e&&i.splice(t,1)},p.uninstall=function(){t&&(n.onerror=e,t=!1,e=o),i=[]},p}(),r.computeStackTrace=function(){var e={};function t(t){if(!L(t))return[];if(!M(e,t)){var i="",o="";try{o=document.domain}catch(e){}-1!==t.indexOf(o)&&(i=function(e){if(!r.remoteFetching)return"";try{var t=function(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(t)),e[t]=i?i.split("\n"):[]}return e[t]}function i(e,n){var i,o=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",c=t(e);if(!c.length)return s;for(var l=0;l<10;++l)if(!O(a=c[n-l]+a)){if(i=r.exec(a))return i[1];if(i=o.exec(a))return i[1]}return s}function o(e,n){var i=t(e);if(!i.length)return null;var o=[],a=Math.floor(r.linesOfContext/2),s=a+r.linesOfContext%2,c=Math.max(0,n-a-1),l=Math.min(i.length,n+s-1);n-=1;for(var u=c;u<l;++u)O(i[u])||o.push(i[u]);return o.length>0?o:null}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(e){return a(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(e,n){for(var i,o,r=0,a=n.length;r<a;++r)if((i=t(n[r])).length&&(i=i.join("\n"),o=e.exec(i)))return{url:n[r],line:i.substring(0,o.index).split("\n").length,column:o.index-i.lastIndexOf("\n",o.index)-1};return null}function u(e,n,i){var o,r=t(n),s=new RegExp("\\b"+a(e)+"\\b");return i-=1,r&&r.length>i&&(o=s.exec(r[i]))?o.index:null}function d(e){for(var t,i,o,r,s=[n.location.href],u=document.getElementsByTagName("script"),d=""+e,f=0;f<u.length;++f){var p=u[f];p.src&&s.push(p.src)}if(o=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(d)){var h=o[1]?"\\s+"+o[1]:"",m=o[2].split(",").join("\\s*,\\s*");t=a(o[3]).replace(/;$/,";?"),i=new RegExp("function"+h+"\\s*\\(\\s*"+m+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else i=new RegExp(a(d).replace(/\s+/g,"\\s+"));if(r=l(i,s))return r;if(o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(d)){var v=o[1];if(t=c(o[2]),r=l(i=new RegExp("on"+v+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),s[0]))return r;if(r=l(i=new RegExp(t),s))return r}return null}function f(e){if(!O(e.stack)&&e.stack){for(var t,n,r=/^\s*at (.*?) ?\(?((?:(?:file|https?|chrome-extension):.*?)|<anonymous>):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=e.stack.split("\n"),d=[],f=/^(.*) is undefined$/.exec(e.message),p=0,h=l.length;p<h;++p){if(t=a.exec(l[p]))n={url:t[3],func:t[1]||s,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else if(t=r.exec(l[p]))n={url:t[2],func:t[1]||s,line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=c.exec(l[p])))continue;n={url:t[2],func:t[1]||s,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=i(n.url,n.line)),n.line&&(n.context=o(n.url,n.line)),d.push(n)}return d.length?(d[0].line&&!d[0].column&&f?d[0].column=u(f[1],d[0].url,d[0].line):d[0].column||O(e.columnNumber)||(d[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:d}):null}}function p(e,t,n,r){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=!1,a.func||(a.func=i(a.url,a.line)),a.context||(a.context=o(a.url,a.line));var s=/ '([^']+)' /.exec(r);if(s&&(a.column=u(s[1],a.url,a.line)),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,e.stack[0].context=a.context,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function h(e,t){for(var n,o,a,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],f={},v=!1,g=h.caller;g&&!v;g=g.caller)if(g!==m&&g!==r.report){if(o={url:null,func:s,line:null,column:null},g.name?o.func=g.name:(n=c.exec(g.toString()))&&(o.func=n[1]),void 0===o.func)try{o.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}if(a=d(g)){o.url=a.url,o.line=a.line,o.func===s&&(o.func=i(o.url,o.line));var w=/ '([^']+)' /.exec(e.message||e.description);w&&(o.column=u(w[1],a.url,a.line))}f[""+g]?v=!0:f[""+g]=!0,l.push(o)}t&&l.splice(0,t);var y={name:e.name,message:e.message,url:document.location.href,stack:l};return p(y,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),y}function m(e,a){var s=null;a=null==a?0:+a;try{if(s=function(e){var t=e.stacktrace;if(!O(e.stacktrace)&&e.stacktrace){for(var n,r=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,a=t.split("\n"),s=[],c=0,l=a.length;c<l;c+=2)if(n=r.exec(a[c])){var u={line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[],url:n[6]};if(!u.func&&u.line&&(u.func=i(u.url,u.line)),u.line)try{u.context=o(u.url,u.line)}catch(e){}u.context||(u.context=[a[c+1]]),s.push(u)}return s.length?{name:e.name,message:e.message,url:document.location.href,stack:s}:null}}(e))return s}catch(e){if(r.debug)throw e}try{if(s=f(e))return s}catch(e){if(r.debug)throw e}try{if(s=function(e){var r=e.message.split("\n");if(r.length<4)return null;var a,s,u,d,f=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of function script\s*$/i,m=[],v=document.getElementsByTagName("script"),g=[];for(s in v)M(v,s)&&!v[s].src&&g.push(v[s]);for(s=2,u=r.length;s<u;s+=2){var w=null;if(a=f.exec(r[s]))w={url:a[2],func:a[3],line:+a[1]};else if(a=p.exec(r[s])){w={url:a[3],func:a[4]};var y=+a[1],b=g[a[2]-1];if(b&&(d=t(w.url))){var x=(d=d.join("\n")).indexOf(b.innerText);x>=0&&(w.line=y+d.substring(0,x).split("\n").length)}}else if(a=h.exec(r[s])){var E=n.location.href.replace(/#.*$/,""),T=a[1];w={url:E,line:(d=l(new RegExp(c(r[s+1])),[E]))?d.line:T,func:""}}if(w){w.func||(w.func=i(w.url,w.line));var S=o(w.url,w.line),_=S?S[Math.floor(S.length/2)]:null;S&&_.replace(/^\s*/,"")===r[s+1].replace(/^\s*/,"")?w.context=S:w.context=[r[s+1]],m.push(w)}}return m.length?{name:e.name,message:r[0],url:document.location.href,stack:m}:null}(e))return s}catch(e){if(r.debug)throw e}try{if(s=h(e,a+1))return s}catch(e){if(r.debug)throw e}return{name:e.name,message:e.message,url:document.location.href}}return m.augmentStackTraceWithInitialElement=p,m.computeStackTraceFromStackProp=f,m.guessFunctionName=i,m.gatherContext=o,m}();var c,l,u,d,f,p,h=n.Raven,m=!("object"!=typeof JSON||!JSON.stringify),v={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,tags:{},maxMessageLength:100,extra:{}},g=!1,w=Object.prototype,y=n.console||{},b={},x=q();for(var E in y)b[E]=y[E];var T={VERSION:"1.1.22",debug:!0,noConflict:function(){return n.Raven=h,T},config:function(e,t){if(u)return V("error","Error: Raven has already been configured"),T;if(!e)return T;var n=function(e){var t=C.exec(e),n={},i=7;try{for(;i--;)n[I[i]]=t[i]||""}catch(t){throw new A("Invalid DSN: "+e)}if(n.pass)throw new A("Do not specify your private key in the DSN!");return n}(e),i=n.path.lastIndexOf("/"),o=n.path.substr(1,i);return t&&N(t,function(e,t){v[e]=t}),v.ignoreErrors.push(/^Script error\.?$/),v.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),v.ignoreErrors=H(v.ignoreErrors),v.ignoreUrls=!!v.ignoreUrls.length&&H(v.ignoreUrls),v.whitelistUrls=!!v.whitelistUrls.length&&H(v.whitelistUrls),v.includePaths=H(v.includePaths),f=n.user,p=n.path.substr(i+1),u="//"+n.host+(n.port?":"+n.port:"")+"/"+o+"api/"+p+"/store/",n.protocol&&(u=n.protocol+":"+u),v.fetchContext&&(r.remoteFetching=!0),v.linesOfContext&&(r.linesOfContext=v.linesOfContext),r.collectWindowErrors=!!v.collectWindowErrors,T},install:function(){return U()&&!g&&(r.report.subscribe(P),g=!0),T},context:function(e,t,n){return R(e)&&(n=t||[],t=e,e=o),T.wrap(e,t).apply(this,n)},wrap:function(e,t){if(O(t)&&!R(e))return e;if(R(e)&&(t=e,e=o),!R(t))return t;if(t.__raven__)return t;function n(){for(var n=[],i=arguments.length,o=!e||e&&!1!==e.deep;i--;)n[i]=o?T.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,n)}catch(t){throw T.captureException(t,e),t}}for(var i in t)M(t,i)&&(n[i]=t[i]);return n.__raven__=!0,n.__inner__=t,n},uninstall:function(){return r.report.uninstall(),g=!1,T},captureException:function(e,t){if(!("object"==typeof(i=n=e)&&null!==i&&"[object Error]"===w.toString.call(n)||n instanceof Error))return T.captureMessage(e,t);var n,i;c=e;try{P(r.computeStackTrace(e),t)}catch(t){if(e!==t)throw t}return T},captureMessage:function(e,t){if(!v.ignoreErrors.test||!v.ignoreErrors.test(e))return z(F({message:e+""},t)),T},setUserContext:function(e){return d=e,T},setExtraContext:function(e){return v.extra=e||{},T},setTagsContext:function(e){return v.tags=e||{},T},setReleaseContext:function(e){return v.release=e,T},setDataCallback:function(e){return v.dataCallback=e,T},setShouldSendCallback:function(e){return v.shouldSendCallback=e,T},lastException:function(){return c},lastEventId:function(){return l},isSetup:function(){return U()}};function S(e,t){var n,i;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=document.createEventObject()).eventType=e;for(i in t)M(t,i)&&(n[i]=t[i]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}T.setUser=T.setUserContext;var _,k,I="source protocol user pass host port path".split(" "),C=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function A(e){this.name="RavenConfigError",this.message=e}function O(e){return void 0===e}function R(e){return"function"==typeof e}function L(e){return"[object String]"===w.toString.call(e)}function D(e){for(var t in e)return!1;return!0}function M(e,t){return w.hasOwnProperty.call(e,t)}function N(e,t){var n,i;if(O(e.length))for(n in e)M(e,n)&&t.call(null,n,e[n]);else if(i=e.length)for(n=0;n<i;n++)t.call(null,n,e[n])}function P(e,t){var n=[];e.stack&&e.stack.length&&N(e.stack,function(e,t){var i=function(e){if(!e.url)return;var t,n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"},i=function(e){if(!e.context||!v.fetchContext)return;var t=e.context,n=~~(t.length/2),i=t.length,o=!1;for(;i--;)if(t[i].length>300){o=!0;break}if(o){if(O(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}(e);if(i){var o=["pre_context","context_line","post_context"];for(t=3;t--;)n[o[t]]=i[t]}return n.in_app=!(v.includePaths.test&&!v.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n}(t);i&&n.push(i)}),S("handle",{stackInfo:e,options:t}),function(e,t,n,i,o,r){var a,s;if(v.ignoreErrors.test&&v.ignoreErrors.test(t))return;t=B(t+="",v.maxMessageLength),s=B(s=e+": "+t,v.maxMessageLength),o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:i,in_app:!0}]});if(v.ignoreUrls.test&&v.ignoreUrls.test(n))return;if(v.whitelistUrls.test&&!v.whitelistUrls.test(n))return;z(F({exception:{type:e,value:t},stacktrace:a,culprit:n,message:s},r))}(e.name,e.message,e.url,e.lineno,n,t)}function F(e,t){return t?(N(t,function(t,n){e[t]=n}),e):e}function B(e,t){return e.length<=t?e:e.substr(0,t)+"…"}function q(){return+new Date}function z(e){var t={project:p,logger:v.logger,platform:"javascript"},i=function(){if(document.location&&document.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=document.location.href,document.referrer&&(e.headers.Referer=document.referrer),e}}();i&&(t.request=i),(e=F(t,e)).tags=F(F({},v.tags),e.tags),e.extra=F(F({},v.extra),e.extra),e.extra=F({"session:duration":q()-x},e.extra),D(e.tags)&&delete e.tags,d&&(e.user=d),v.release&&(e.release=v.release),R(v.dataCallback)&&(e=v.dataCallback(e)||e),e&&!D(e)&&(R(v.shouldSendCallback)&&!v.shouldSendCallback(e)||(l=e.event_id||(e.event_id=function(){var e=n.crypto||n.msCrypto;if(!O(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var i=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return i(t[0])+i(t[1])+i(t[2])+i(t[3])+i(t[4])+i(t[5])+i(t[6])+i(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}()),V("debug","Raven about to send:",e),U()&&(v.transport||function(e){e.auth.sentry_data=JSON.stringify(e.data);var t=document.createElement("img"),n=e.url+"?"+(i=e.auth,o=[],N(i,function(e,t){o.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),o.join("&"));var i,o;(e.options.crossOrigin||""===e.options.crossOrigin)&&(t.crossOrigin=e.options.crossOrigin);t.onload=e.onSuccess,t.onerror=t.onabort=e.onError,t.src=n})({url:u,auth:{sentry_version:"4",sentry_client:"raven-js/"+T.VERSION,sentry_key:f},data:e,options:v,onSuccess:function(){S("success",{data:e,src:u})},onError:function(){S("failure",{data:e,src:u})}})))}function U(){return!!m&&(!!u||(_||V("error","Error: Raven has not been configured."),_=!0,!1))}function H(e){for(var t,n=[],i=0,o=e.length;i<o;i++)L(t=e[i])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function V(e){b[e]&&T.debug&&b[e].apply(y,a.call(arguments,1))}A.prototype=new Error,A.prototype.constructor=A,(k=n.RavenConfig)&&T.config(k.dsn,k.config).install(),n.Raven=T,(i=function(){return T}.apply(t,[]))===o||(e.exports=i)}("undefined"!=typeof window?window:this)},function(e,t,n){"use strict";var i,o=n(0),r=(i=n(15))&&i.__esModule?i:{default:i};const a=window.cdaaas.SETTINGS,s=a.SITE_ID,c=a.CHANNEL,l=a.IS_PREVIEW;"qa"===window.utag_data["ut.env"]&&o.Settings.useQAConfiguration();const u=new o.HorizonClient(s,c,"multicontent");window.addEventListener("load",e=>{l||setTimeout(()=>{const e=(new r.default).toJSONRaw(),t={requestStart:e.Request.start,requestEnd:e.Request.end,requestDuration:e.Request.duration,responseStart:e.Response.start,responseEnd:e.Response.end,responseDuration:e.Response.duration},n={firstPaint:Math.round(e.Paint["first-paint"].when),firstContentfulPaint:Math.round(e.Paint["first-contentful-paint"].when),onloadStart:e.OnLoad.start,onloadEnd:e.OnLoad.end,onloadDuration:e.OnLoad.duration,processingStart:e.Processing.start,processingEnd:e.Processing.end,processingDuration:e.Processing.duration},i={appCacheStart:e.AppCache.start,appCacheEnd:e.AppCache.end,appCacheDuration:e.AppCache.duration,dnsStart:e.DNS.start,dnsEnd:e.DNS.end,dnsDuration:e.DNS.duration,networkLatency:e.Total.networkLatency,redirectStart:e.Redirect.start,redirectEnd:e.Redirect.end,redirectDuration:e.Redirect.duration,redirectCount:e.Redirect.count,tcpStart:e.TCP.start,tcpStartSsl:e.TCP.startSSL,tcpEnd:e.TCP.end,tcpDuration:e.TCP.duration},o={totalTimeStart:e.Total.start,totalTimeEnd:e.Total.end,totalTime:e.Total.duration},a={connectionDownlink:e.Connection.downlink.toString(),connectionEffectiveType:e.Connection.effectiveType,connectionRoundtripTime:Math.round(e.Connection.roundtripTime),connectionType:e.Connection.type,navigationType:e.NavigationType,serviceWorkerActivated:e.ServiceWorker.activated,serviceWorkerScriptUrl:e.ServiceWorker.scriptUrl||"Desconhecido"};try{u.send({id:"performance-backend-load",version:"1.0",properties:t}),u.send({id:"performance-browser-load",version:"1.0",properties:n}),u.send({id:"performance-network-load",version:"1.0",properties:i}),u.send({id:"performance-page-load",version:"1.0",properties:o}),u.send({id:"performance-user-load",version:"1.0",properties:a})}catch(e){console.error("HORIZON PERFORMANCE TRACKING: ",e)}},0)}),window.addEventListener("beforeunload",()=>{u.unload()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e=>!isNaN(parseFloat(e))&&isFinite(e),o=e=>{if(!e||e<=0)return 0;const t=new Date(e);return`${t.toLocaleDateString("pt-BR")} - ${t.toLocaleTimeString("pt-BR")}`},r=e=>0===e?e:e>1e3?`${(e/1e3).toFixed(2)}s`:`${Math.round(e).toFixed(2)}ms`;t.default=class{constructor(){this.connection={downlink:null,effectiveType:null,roundtripTime:null,type:null},this.navigation=window.performance.navigation,this.sw={activated:!1,scriptUrl:null},this.timing=window.performance.timing}appCacheTime(){return this.timing.domainLookupStart-this.timing.fetchStart}browserTime(){return this.timing.loadEventEnd-this.timing.responseEnd}connectionInfo(e){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&(this.connection.downlink=t.downlink||"Desconhecido",this.connection.effectiveType=t.effectiveType||"Desconhecido",this.connection.roundtripTime=i(t.rtt)?e?t.rtt:r(t.rtt):"Desconhecido",this.connection.type=t.type||"Desconhecido"),this.connection}dnsTime(){return this.timing.domainLookupEnd-this.timing.domainLookupStart}navigationType(){const{type:e}=this.navigation,t={0:"Interação do usuário",1:"Recarregamento da página",2:"Movimentação pelo histórico (voltar ou avançar)"};return e&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:"Tipo desconhecido"}networkLatency(){return this.timing.responseEnd-this.timing.fetchStart}onLoadTime(){return this.timing.loadEventEnd-this.timing.loadEventStart}paintTime(e){const t={};return window.performance.getEntriesByType("paint").forEach(n=>{const i=this.timing.navigationStart+n.startTime;t[n.name]={when:e?i:o(i)}}),t}processingTime(){return this.timing.loadEventStart-this.timing.domLoading}redirectCount(){return this.navigation.redirectCount}redirectTime(){return this.timing.redirectEnd-this.timing.redirectStart}requestTime(){return this.timing.responseStart-this.timing.requestStart}responseTime(){return this.timing.responseEnd-this.timing.responseStart}serviceWorkerInfo(){return"serviceWorker"in navigator&&navigator.serviceWorker.controller&&(this.sw.activated="activated"===navigator.serviceWorker.controller.state,this.sw.scriptUrl=navigator.serviceWorker.controller.scriptUrl),this.sw}tcpTime(){return this.timing.connectEnd-this.timing.connectStart}totalTime(){return this.timing.loadEventEnd-this.timing.navigationStart}toJSON(){return{AppCache:{start:o(this.timing.fetchStart),end:o(this.timing.domainLookupStart),duration:r(this.appCacheTime())},Browser:{start:o(this.timing.responseEnd),end:o(this.timing.loadEventEnd),duration:r(this.browserTime())},Connection:this.connectionInfo(!1),DNS:{start:o(this.timing.domainLookupStart),end:o(this.timing.domainLookupEnd),duration:r(this.dnsTime())},NavigationType:this.navigationType(),Navigator:{appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,cookieEnabled:navigator.cookieEnabled,language:navigator.language,platform:navigator.platform,product:navigator.product,productSub:navigator.productSub,userAgent:navigator.userAgent,vendor:navigator.vendor},OnLoad:{start:o(this.timing.loadEventStart),end:o(this.timing.loadEventEnd),duration:r(this.onLoadTime())},Paint:this.paintTime(!1),Processing:{start:o(this.timing.domLoading),end:o(this.timing.loadEventStart),duration:r(this.processingTime())},Redirect:{start:o(this.timing.redirectStart),end:o(this.timing.redirectEnd),duration:r(this.redirectTime()),count:this.redirectCount()},Request:{start:o(this.timing.requestStart),end:o(this.timing.responseStart),duration:r(this.requestTime())},Response:{start:o(this.timing.responseStart),end:o(this.timing.responseEnd),duration:r(this.responseTime())},ServiceWorker:this.serviceWorkerInfo(),TCP:{start:o(this.timing.connectStart),startSSL:o(this.timing.secureConnectionStart),end:o(this.timing.connectEnd),duration:r(this.tcpTime())},Total:{start:o(this.timing.navigationStart),end:o(this.timing.loadEventEnd),duration:r(this.totalTime()),networkLatency:r(this.networkLatency())}}}toJSONRaw(){return{AppCache:{start:this.timing.fetchStart,end:this.timing.domainLookupStart,duration:this.appCacheTime()},Browser:{start:this.timing.responseEnd,end:this.timing.loadEventEnd,duration:this.browserTime()},Connection:this.connectionInfo(!0),DNS:{start:this.timing.domainLookupStart,end:this.timing.domainLookupEnd,duration:this.dnsTime()},NavigationType:this.navigationType(),Navigator:{appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,cookieEnabled:navigator.cookieEnabled,language:navigator.language,platform:navigator.platform,product:navigator.product,productSub:navigator.productSub,userAgent:navigator.userAgent,vendor:navigator.vendor},OnLoad:{start:this.timing.loadEventStart,end:this.timing.loadEventEnd,duration:this.onLoadTime()},Paint:this.paintTime(!0),Processing:{start:this.timing.domLoading,end:this.timing.loadEventStart,duration:this.processingTime()},Redirect:{start:this.timing.redirectStart,end:this.timing.redirectEnd,duration:this.redirectTime(),count:this.redirectCount()},Request:{start:this.timing.requestStart,end:this.timing.responseStart,duration:this.requestTime()},Response:{start:this.timing.responseStart,end:this.timing.responseEnd,duration:this.responseTime()},ServiceWorker:this.serviceWorkerInfo(),TCP:{start:this.timing.connectStart,startSSL:this.timing.secureConnectionStart,end:this.timing.connectEnd,duration:this.tcpTime()},Total:{start:this.timing.navigationStart,end:this.timing.loadEventEnd,duration:this.totalTime(),networkLatency:this.networkLatency()}}}}},function(e,t){!function(e){if(e.navigator&&e.navigator.serviceWorker){const t=e.cdaaas&&e.cdaaas.SETTINGS&&e.cdaaas.SETTINGS.SERVICE_WORKER||{};t.active?e.addEventListener("load",()=>{e.navigator.serviceWorker.register(t.url).then(e=>console.log("SW registered: ",e)).catch(e=>console.error(e))}):e.navigator.serviceWorker.getRegistration().then(e=>e&&e.unregister())}}(window)},function(e,t){function n(e){"use strict";return this.init(e)}!function(e,t){"use strict";function i(e){e&&e.preventDefault&&e.preventDefault()}function o(t,n,i){var o=!!function(){if(void 0===e&&"function"==typeof e.addEventListener){var t=!1,n=Function,i=Object.defineProperty({},"passive",{get:function(){t=!0}});return e.addEventListener("testPassiveEventSupport",n,i),e.removeEventListener("testPassiveEventSupport",n,i),t}}()&&{passive:!0};return t.addEventListener(n,i,o)}var r="facebook",a="twitter",s="whatsapp",c="google",l="linkedin",u="pinterest",d="email",f="share-button";n.prototype={init:function(e){this.eventName=this.getActionName(),this.verifyTouch(),this.createSVG(),this.mergeOptions(e),this.containers=t.querySelectorAll(this.selector),this.createBars()},getActionName:function(){return this.isTouch()?"mouseup":"click"},verifyTouch:function(){var e=t.querySelector("html"),n=this.isTouch(),i=" no-touch";n&&-1===e.className.indexOf(" touch")?e.className+=" touch":n||-1!==e.className.indexOf(i)||(e.className+=i)},isTouch:function(){var n=!1;return(void 0!==e.ontouchstart||e.DocumentTouch&&t instanceof DocumentTouch)&&(n=!0),n},createSVG:function(){var e;t.querySelector(".sharebar-svg-container")||((e=t.createElement("div")).innerHTML="[[X_SVG_X]]",e.classList.add("sharebar-svg-container"),e.style.display="none",t.body.appendChild(e))},mergeOptions:function(e){var t,n={selector:".share-bar",campaign:"share-bar",classPopup:"share-popup",facebookAppId:"",networks:[r,a,s,c,l,u,d],theme:"natural",buttonWidth:34,buttonFullWidth:110,buttonPadding:4,maxSocialButtons:6,context:"desktop",onCreateBar:function(e){return!1},onCreateButton:function(e){return!1},onShare:function(e){return!1}};e||(e={});for(t in n)n.hasOwnProperty(t)&&(this[t]=e[t]||n[t])},validateNetworks:function(e){var t="The list of networks passed on initialization is wrong",i=0,o="",f="";if("[object Array]"!==Object.prototype.toString.call(e))throw new Error(t+" [Should be an Array]");for(;i<e.length;i++)if("string"==typeof e[i]){if(o=(o=e[i]).substr(0,1).toUpperCase()+o.substr(1),!(f=n.prototype["create"+o+"Button"]))throw new Error(t+' [Network name "'+e[i]+'" is wrong, should be '+r+" or "+a+" or "+s+" or "+c+" or "+l+" or "+u+" or "+d+"]");e[i]=f}else if("function"!=typeof e[i])throw new Error(t+" [Should be string or function]");return e},createBars:function(){var e=this.containers,t=0;for(t=0;t<e.length;t++)this.createBar(e[t])},createBar:function(e,t){var n,i,o=" share-theme-",r=0;for(n=(t=(t=this.validateNetworks(t||this.networks)).slice(0,this.maxSocialButtons)).length,i=this.getButtonsSize(e.offsetWidth,n);r<n;r++)t[r].call(this,e,i[r]);o+=e.getAttribute("data-theme")||this.theme,e.className+=" share-bar-container"+o,this.bindOpenPopup(e),this.bindShare(e),this.onCreateBar(e)},getButtonsSize:function(e,t){var n=this.buttonFullWidth+this.buttonPadding,i=this.buttonWidth+this.buttonPadding,o=this.isSmallScreen();return t*i>e?this.getButtonsSmall(t,i,e):o?["","","","","",""]:this.getButtonsFull(t,n,i,e)},getButtonsSmall:function(e,t,n){for(var i=[],o=1,r=0,a=this.isSmallScreen();o<=e;o++)r=o*t,i[o-1]=r<=n?a?"":" share-small":" share-hidden";return i},getButtonsFull:function(e,t,n,i){for(var o=[],r=1,a=0,s=0;r<=e;r++)a=r*t,s=(e-r)*n,o[r-1]=s+a<=i?" share-full":" share-small";return o},bindOpenPopup:function(e){for(var t=e.querySelectorAll("."+this.classPopup),n=0,r=this,a=function(e){r.openPopup.call(this,e)};n<t.length;n++)o(t[n],this.eventName,a),o(t[n],"click",i)},bindShare:function(e){for(var t=e.querySelectorAll("."+f),n=0,i=this,r=function(e){i.onShare(this)};n<t.length;n++)o(t[n],this.eventName,r)},openPopup:function(t){e.open(this.getAttribute("href"),"popup","height=400,width=500,left=10,top=10,resizable=yes,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=no").focus()},getMetadataFromElement:function(t){var n=e.encodeURIComponent,i=t.getAttribute("data-url")||"",o=i.split("#"),r="?utm_source=#source#&utm_medium=share-bar-"+this.context+"&utm_campaign="+this.campaign;return{url:n(o.length>1?o[0]+r+"&#"+o[1]:i+r),title:n(t.getAttribute("data-title")||""),imageUrl:n(t.getAttribute("data-image-url")||""),hashtags:n(t.getAttribute("data-hashtags")||"")}},isSmallScreen:function(){return(e.innerWidth||screen.width)<768},createButton:function(e,n,i,o,r,a){var s=t.createElement("div"),c="";return r=r||n,i=i||"",s.className=f+" share-"+n+i,r=r[0].toUpperCase()+r.slice(1),o=o.replace("%23source%23",n),a||(c=this.classPopup),s.innerHTML=['<a class="'+c+'" href="'+o+'" title="Compartilhar via '+r+'" data-social-network="'+n+'" target="_blank" rel="external">',this.createContentButton(n,r),"</a>"].join(""),e.appendChild(s),this.onCreateButton(s),s},createContentButton:function(e,t){return['   <div class="svg-size">','      <svg viewBox="0 0 100 100" class="share-icon">','           <use xlink:href="#icon-'+e+'"></use>',"       </svg>","   </div>","<span>"+(t=t||e)+"</span>"].join("")},createFacebookButton:function(t,n){var a,s,c=this.getMetadataFromElement(t),l=c.url.replace("%23source%23",r);s=this.createButton(t,r,n,"http://www.facebook.com/","",!0),this.getFacebookUi(),a=function(){var t=e.decodeURIComponent;FB.ui({method:"feed",display:"popup",link:t(l),name:t(c.title),picture:t(c.imageUrl)})},o(s,this.eventName,a),o(s,"click",i)},getFacebookUi:function(){var n,i,o,r,a=this.facebookAppId||this.getOgFbAppId();return!e.FB&&void(a&&(e.fbAsyncInit=function(){FB.init({appId:a,xfbml:!0,version:"v2.8"})},n=t,i="facebook-jssdk",r=n.getElementsByTagName("script")[0],n.getElementById(i)||((o=n.createElement("script")).id=i,o.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(o,r))))},getOgFbAppId:function(){var e=t.querySelector("meta[property='fb:app_id']");if(null!==e)return e.getAttribute("content")},createTwitterButton:function(e,t){var n=this.getMetadataFromElement(e);this.createButton(e,a,t,"https://twitter.com/share?url="+n.url+"&amp;text="+n.title+" "+n.hashtags)},createGoogleButton:function(e,t){var n=this.getMetadataFromElement(e);this.createButton(e,c+"plus",t,"https://plus.google.com/share?url="+n.url,c+"+")},createLinkedinButton:function(e,t){var n=this.getMetadataFromElement(e);this.createButton(e,l,t,"http://www.linkedin.com/shareArticle?mini=true&url="+n.url)},createPinterestButton:function(e,t){var n=this.getMetadataFromElement(e);this.createButton(e,u,t,"http://br.pinterest.com/pin/create/button/?url="+n.url+"&amp;media="+n.imageUrl+"&amp;description="+n.title)},createWhatsappButton:function(e,t){var n=this.getMetadataFromElement(e);return!(!this.isSmallScreen()||!this.isTouch())&&void this.createButton(e,s,t,"whatsapp://send?text="+n.title+"%20"+n.url,"",!0)},createEmailButton:function(e,t){var n=this.getMetadataFromElement(e);return!!this.isTouch()&&void this.createButton(e,d,t,"mailto:?subject="+n.title+"&amp;body="+n.url,"e-mail",!0)}}}(window,document),window.ShareBar=n},function(e,t){const n=["facebook","twitter","whatsapp"];document.getElementById("share-bar").innerHTML="",new window.ShareBar({context:cdaaas.SETTINGS.MOBILE_GROUP,facebookAppId:cdaaas.SETTINGS.FACEBOOK_APP_ID,theme:"minimal",networks:JSON.parse(JSON.stringify(n)),onShare:function(e){const t=e.getAttribute("class")||"";let i=null;for(let o of n)-1!==t.indexOf(o)&&(i=o);ga(cdaaas.SETTINGS.SITE_ID+"_portal.send","event","multicontent",i,"share")}})},function(e,t){}]);;
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=n(2),o=u(r),i=u(n(7)),a=n(3);function u(e){return e&&e.__esModule?e:{default:e}}window.buildGeoTrackingLoadUp=function(e,t,n,u,s,c){return new Promise(function(l,f){var d,h;if((0,r.log)("contentTypeApi: ",c),t&&a.Settings.useQAConfiguration(),d=new o.default(n,u,c),!s){if("#geo-tracking"==window.location.hash){(0,r.log)("forçando o tracking do usuário");var v=function(){try{return E.call(this)}catch(e){return f(e)}}.bind(this),p=function(e){try{return(0,r.log)(e.message),v()}catch(e){return f(e)}}.bind(this);try{return Promise.resolve(d.trackLocation()).then(function(e){try{return v()}catch(e){return p(e)}}.bind(this),p)}catch(e){p(e)}}else{h=new i.default(e,n,c);var y=function(){try{return E.call(this)}catch(e){return f(e)}}.bind(this),g=function(e){try{return(0,r.log)(e),y()}catch(e){return f(e)}}.bind(this);try{return Promise.resolve(h.selectTrackingEnabledAlternative()).then(function(e){try{return Promise.resolve(d.trackLocation()).then(function(e){try{return y()}catch(e){return g(e)}}.bind(this),g)}catch(e){return g(e)}}.bind(this),g)}catch(e){g(e)}}function E(){return _.call(this)}}function _(){return l()}return _.call(this)}.bind(this))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var r=n(3),o=u(n(4)),i=u(n(5)),a=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}const s=t.log=function(){var e=Array.from(arguments);e.splice(0,0,"[User location tracking]"),console.log.apply(console,e)},c=1,l=5e4,f=18e5,d={},h="denied",v="granted",p="prompt";d[c]={name:"Permissão Negada",status:"Denied"},d[2]={name:"Posição não disponível",status:"Unavailable"},d[3]={name:`Tempo de espera de ${l}ms finalizou.`,status:"Timeout"};t.default=class{constructor(e,t,n){this.client=new r.HorizonClient(e,t,n),window.addEventListener("beforeunload",()=>{this.client.unload()})}latestPositionHasExpired(e){return!0}getGeolocationPermissions(){return new Promise(function(e,t){return Promise.resolve(new Promise(function(e,t){return navigator.permissions?Promise.resolve(navigator.permissions.query({name:"geolocation"})).then(e,t):e(null)}.bind(this))).then(e,t)}.bind(this))}trackLocation(){return new Promise(function(e,t){var n;return Promise.resolve(this.getGeolocationPermissions()).then(function(r){try{return null!==(n=r)&&n.state===h?this.trackDenied():(0,i.default)()&&n.state===p?this.syncTrackStartWithPoupup(n):this.track(),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))}syncTrackStartWithPoupup(e){let t=!1;s("usando mudança de permissionamento."),e.onchange=(e=>{if(!t){switch(e.currentTarget.state){case p:s("permissao feita por cada chamada"),this.track();case v:s("acesso permitido pelo usuário"),this.track();break;case h:s("acesso negado pelo usuário"),this.trackDenied()}t=!0}}),navigator.geolocation.getCurrentPosition(()=>{},()=>{},{timeout:1,maximumAge:1})}track(){return new Promise(function(e,t){var n,r;let o;s("trackeando o usuário."),n=this.getRecentPosition();var i=function(){try{return e()}catch(e){return t(e)}}.bind(this),a=function(e){try{var r=function(){try{return i()}catch(e){return t(e)}}.bind(this),a=function(n){try{return s("Erro no cache de geolocalização. Enviando erro da localização com alta precisão."),this.trackError(e),r()}catch(e){return t(e)}}.bind(this);try{return s("Obtendo dados do cache"),Promise.resolve(n).then(function(e){try{return o=e.toJSON(),s("Enviado para o Horizon",o),this.sendGeolocation(o),r()}catch(e){return a(e)}}.bind(this),a)}catch(e){a(e)}}catch(e){return t(e)}}.bind(this);try{return Promise.resolve(this.getCurrentPosition()).then(function(t){try{return o=(r=t).toJSON(),this.latestPositionHasExpired(r)?(s("Enviado para o Horizon",o),this.sendGeolocation(r),e(r)):i()}catch(e){return a(e)}}.bind(this),a)}catch(e){a(e)}}.bind(this))}trackDenied(){s("permissão negada"),this.trackError({code:c,message:"Permission Denied"})}trackError(e){return new Promise(function(t,n){const r=d[e.code];return s("Logando erro",e.message),this.client.send({id:"generic-geolocation-authorization",version:"1.0",properties:r}),t()}.bind(this))}sendGeolocation(e){this.client.send({id:"generic-geolocation-load",version:"1.1",properties:e.toJSON()})}getCurrentPosition(){return new Promise(function(e,t){const n={enableHighAccuracy:!0,timeout:l};return e(new Promise((e,t)=>{const r=new a.default;r.start(),navigator.geolocation.getCurrentPosition(t=>{r.stop(),s("Usuário localizado com alta precisão.");const n=new o.default(t,!1,r.toMilliseconds());s(n),e(n)},e=>{s("Erro durante a geolocalização com alta precisão."),s(e.message),t(e)},n)}))}.bind(this))}getRecentPosition(){return new Promise(function(e,t){const n={maximumAge:f,timeout:0};return e(new Promise((e,t)=>{s("Buscando por posição cacheada",n);const r=new a.default;r.start(),navigator.geolocation.getCurrentPosition(t=>{r.stop();const n=new o.default(t,!0,r.toMilliseconds());s("localização cacheada encontrada."),s(n),e(n)},e=>{s("Erro durante a geolocalização cacheada."),s(e.message),t(e)},n)}))}.bind(this))}}},function(e,t,n){"use strict";var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var i={EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_TRACK_HOST:"https://horizon-track.globo.com",HORIZON_SCHEMAS_HOST:"https://horizon-schemas.globo.com",HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_REQUEST_ENCODING:"base64",HORIZON_CLIENT_UUID:o(n(2)).default.getResource("clientInstanceUUID",(0,r.default)()),SCHEMA_VALIDATOR_SCRIPT_URL:"https://s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,PACKAGE_VERSION:"1.0.1"},a={useQAConfiguration:function(){i.HORIZON_TRACK_HOST="https://horizon-track.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="https://horizon-schemas.qa.globoi.com",i.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(i,a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resouce.",COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded."},o={mustBeDefined:function(e){throw new Error(r.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(r,o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:r,getResource:function(e,t){var n=r();return n[e]=n[e]||t,n[e]}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.HorizonClient=void 0,n(4);var r=i(n(6)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.HorizonClient=r.default,t.Settings=o.default},function(e,t,n){n(5).polyfill()},function(e,t,n){function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var s=i[a],c=Object.getOwnPropertyDescriptor(o,s);void 0!==c&&c.enumerable&&(n[s]=o[s])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(10)),a=c(n(1)),u=c(n(12)),s=c(n(21));function c(e){return e&&e.__esModule?e:{default:e}}var l={READY:"stateReady",UNLOADED:"stateNotReady",LOADING:"stateLoading"},f=function(){function e(t,n){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tenant=t||a.default.mustBeDefined("tenant"),this.deviceGroup=n||a.default.mustBeDefined("deviceGroup"),this.defaultContentType=c,this.validator=i.default,this.clientVersion=o.default.PACKAGE_VERSION,this.state=l.UNLOADED;var f=null,d=null;this.setSchemasProvider=function(e){return f=e},this.getSchemasProvider=function(){if(!f){var e=s.default.getInstance();r.setSchemasProvider(e)}return f},this.setEventBus=function(e){return d=e},this.getEventBus=function(){if(!d){var e=u.default.getInstance(r.tenant,r.deviceGroup);r.setEventBus(e)}return d},this.isReady=function(){return!!f&&r.validator.isReady()&&f.isReady()}}return r(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?(this.state=l.READY,e()):(this.state=l.LOADING,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=l.LOADING,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this;if(this.validator.validateArgs(e),!this.isReady())return this.state===l.UNLOADED&&this.flush(),void this.onReady(function(){return t.send(e)});this.validateBeforeEnqueue(e);var n=this.getScopeInfo(),r=Object.assign({},e,n);r.contentType||(this.defaultContentType||a.default.mustBeDefined("contentType"),r.contentType=this.defaultContentType),this.getEventBus().enqueue(r)}}]),e}();t.default=f},function(e,t,n){var r=n(8),o=n(9);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(11)),i=u(n(1)),a=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var s={ready:[]},c=function(){return!!window.tv4},l=function(e){return null===e?null:isNaN(e)&&!isNaN(Date.parse(e))?null:i.default.INVALID_DATE};t.default={validateFor:function(e,t){if(!c())throw new Error(i.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(i.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(i.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(i.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(i.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==r(e.properties))throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(i.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);if(delete n.id,delete n.version,delete n.properties,delete n.contentType,Object.keys(n).length>0)throw new Error(i.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:l,isReady:c,onReady:function(e){if(c())return e();if(s.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Validator callback stack.");return s.ready.unshift(e)},load:function(){o.default.isDefined("tv4")||(0,o.default)([a.default.SCHEMA_VALIDATOR_SCRIPT_URL],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",l),s.ready.forEach(function(e){return e()})},error:function(e){throw new Error(i.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function o(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function i(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,r,o){var i,u,s=document,c=r.async,l=(r.numRetries||0)+1,f=r.before||e,d=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(i=!0,(u=s.createElement("link")).rel="stylesheet",u.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(u=s.createElement("img")).src=d:((u=s.createElement("script")).src=t,u.async=void 0===c||c),u.onload=u.onerror=u.onbeforeload=function(e){var s=e.type[0];if(i&&"hideFocus"in u)try{u.sheet.cssText.length||(s="e")}catch(e){s="e"}if("e"==s&&(o+=1)<l)return a(t,n,r,o);n(t,s,e.defaultPrevented)},!1!==f(t,u)&&s.head.appendChild(u)}function u(e,n,r){var u,s;if(n&&n.trim&&(u=n),s=(u?r:n)||{},u){if(u in t)throw"LoadJS";t[u]=!0}!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,u=i,s=[];for(r=function(e,n,r){if("e"==n&&s.push(e),"b"==n){if(!r)return;s.push(e)}--i||t(s)},o=0;o<u;o++)a(e[o],r,n)}(e,function(e){i(s,e),o(u,e)},s)}return u.ready=function(e,t){return function(e,t){var o,i,a,u=[],s=(e=e.push?e:[e]).length,c=s;for(o=function(e,n){n.length&&u.push(e),--c||t(u)};s--;)i=e[s],(a=n[i])?o(i,a):(r[i]=r[i]||[]).push(o)}(e,function(e){i(t,e)}),u},u.done=function(e){o(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(13)),i=d(n(14)),a=d(n(2)),u=d(n(15)),s=d(n(0)),c=d(n(1)),l=d(n(19)),f=d(n(20));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){return a.default.getResource("bus",{})},v=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTenant=t||c.default.mustBeDefined("tenant"),this.instanceID=n||c.default.mustBeDefined("instanceID"),this.deviceGroup=r||c.default.mustBeDefined("deviceGroup"),this.queue=new l.default(s.default.EVENTS_BUFFER_SIZE),(new f.default).every(s.default.EVENTS_SENDER_INTERVAL).call(function(){o.queue=o.filterQueue();var e=o.prepareRequest();o.dispatch(e,s.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return o.enqueue(e)})}).call(function(e){var t=s.default.EVENTS_SENDER_INTERVAL,n=2*s.default.EVENTS_SENDER_INTERVAL,r=Number(i.default.get("_hzt.interval"))||s.default.EVENTS_SENDER_INTERVAL;r<=n&&r>=t&&e.interval!==r&&e.reschedule(r),i.default.remove("_hzt.interval",{path:"/"})}).start()}return r(e,[{key:"setMaxQueueSize",value:function(e){this.queue=l.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-s.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(t){return t.actionTs>e})}},{key:"prepareRequest",value:function(){return{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,actions:this.queue.splice(0,s.default.EVENTS_BULK_SIZE)}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(c.default.INVALID_REQUEST);return e.actions.length>0}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=s.default.HORIZON_TRACK_HOST+"/event/"+this.currentTenant,r=u.default.get(t);if(!this.isValidRequest(e))return!1;var i=r(e);return(0,o.default)(n,i)}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(c.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,s.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t){var n=h(),r=e+"-"+t;return n[r]||(n[r]=new v(e,s.default.HORIZON_CLIENT_UUID,t)),n[r]},reset:function(e,t){e&&0!==e.length||c.default.mustBeDefined("tenant"),t&&0!==t.length||c.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete h()[n]},getContextBus:h}},function(e,t,n){!function(n){var r=function(e,t){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type);try{n.send(t)}catch(e){}return!0};"navigator"in n&&"sendBeacon"in n.navigator&&(r=navigator.sendBeacon.bind(navigator)),void 0!==e&&e.exports&&(t=e.exports=r),t.sendBeacon=r}("object"==typeof window?window:this)},function(e,t,n){var r,o,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c]));return document.cookie=t+"="+o+s}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var h=l[d].split("="),v=h.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var p=h[0].replace(f,decodeURIComponent);if(v=n.read?n.read(v,p):n(v,p)||v.replace(f,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(e){}if(t===p){a=v;break}t||(a[p]=v)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})},void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(16)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a={base64:function(e){var t=new FormData;return t.append("data",r.default.encode(JSON.stringify(e))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in a))throw new Error(o.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return a[e]}}},function(e,t,n){(function(e,r){var o;!function(i){var a=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);a.global!==a&&a.window;var u=function(e){this.message=e};(u.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new u(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,f={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,o,i=e.length%3,a="",u=-1,l=e.length-i;++u<l;)t=e.charCodeAt(u)<<16,n=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),a+=c.charAt((o=t+n+r)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(t=e.charCodeAt(u)<<8,n=e.charCodeAt(++u),a+=c.charAt((o=t+n)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(u),a+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",a=-1;++a<t;)r=c.indexOf(e.charAt(a)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(17)(e),n(18))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this.maxSize=t}return r(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var r=new e(n);return t.forEach(function(e){return r.push(e)}),r}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return r(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach(function(t){return t(e)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(2)),i=s(n(1)),a=s(n(0)),u=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}var c={READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},l=function(){return o.default.getResource("schemas",{data:{}})},f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.state=c.STATE_NOT_READY,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return r(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+i.default.COMPONENT_NOT_READY);var r=l().data[n];if(!r)throw new Error(i.default.UNSUPPORTED_TYPE+": "+n);return r}},{key:"isReady",value:function(){return this.state===c.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=c.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=c.STATE_NOT_READY,e.load()},a.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===c.STATE_READY)return e(l().data);if(this.callbacks.onReady.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===c.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"execAsync",value:function(e,t){setTimeout(function(){return e(t)},1)}},{key:"load",value:function(){var e=this,t=l();this.state===c.STATE_NOT_READY&&(this.state=c.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()}),u.default.request("GET",this.url,function(n){t.data=Object.assign(t.data||{},n),e.state=c.STATE_READY,e.callbacks.onReady.forEach(function(n){return e.execAsync(n,t.data)})},function(t){e.state=c.STATE_ERROR,e.callbacks.onError.forEach(function(n){return e.execAsync(n,t)}),e.retry()}))}}]),e}();t.default={getInstance:function(e){var t=l();return t.provider||(t.provider=new f(e||a.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:l}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,r){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){return o.status<400?n(JSON.parse(o.response)):r(o.response)},o.onerror=r,o.send()}}}])},e.exports=r()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,n){e.coords?(this.geoData={accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,latitude:e.coords.latitude,longitude:e.coords.longitude,speed:e.coords.speed},this.geoData.geoTimestamp=e.timestamp,this.geoData.cached=0|t,this.geoData.timeSpent=n):this.geoData=e}get coordinates(){return{latitude:this.geoData.latitude,longitude:this.geoData.longitude}}get timestamp(){return this.geoData.geoTimestamp}static save(e){window.localStorage.setItem("geo-tracking",JSON.stringify(e))}static getLatest(){const e=window.localStorage.getItem("geo-tracking");return null===e?e:new n(JSON.parse(e))}toJSON(){return this.geoData}toString(){return JSON.stringify(this.geoData)}}t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=window.chrome,t=window.navigator,n=t.vendor,r=t.userAgent.indexOf("OPR")>-1,o=t.userAgent.indexOf("Edge")>-1;return!!t.userAgent.match("CriOS")||null!==e&&void 0!==e&&"Google Inc."===n&&!1===r&&!1===o}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{start(){this.startTime=Date.now()}stop(){this.endTime=Date.now()}toMilliseconds(){return this.endTime-this.startTime}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=class{constructor(e,t,n){globoAB.v2.server=e,this.productName=t,this.contentType=n}selectTrackingEnabledAlternative(){return new Promise(function(e,t){const n=[this.productName,this.contentType,"ult"].join("-"),o={};return e(new Promise((e,t)=>{globoAB.v2.get(n,o,n=>"tracking-enabled"===n.alternative?((0,r.log)("capturado no experimento."),e(n)):((0,r.log)("não capturado no experimento."),t(n)))}))}.bind(this))}}}]);;
!function(t){function r(e){if(o[e])return o[e].exports;var n=o[e]={exports:{},id:e,loaded:!1};return t[e].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var o={};r.m=t,r.c=o,r.p="",r(0)}({0:function(t,r,o){t.exports=o(6)},6:function(t,r){"use strict"}});;
!function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){"use strict";var n=o(2),a=o(3),r=function(t){return t&&t.__esModule?t:{default:t}}(a),i=window.cdaaas||{},s=i.SETTINGS||{},c=s.HOST_COMENTARIOS+"/static/js/jquery-ui-1.8.2.custom.min.js",l=s.HOST_COMENTARIOS+"/static/widget/js/comentarios.v2.all.js",d=s.HOST_COMENTARIOS+"/static/widget/css/comentarios.v2.all.css",u=function(t){window.MultiContentComments=r.default;var e={uri:s.COMENTARIOS_URI,url:s.CANONICAL_URL,titulo:s.TITLE,idExterno:s.COMENTARIOS_IDEXTERNO,corProduto:s.COR,exibeTeaserComentarios:!0,qtdComentariosNoTeaser:1},o=void 0;o="desktop"==s.MOBILE_GROUP?function(){$(t).comentarios(e)}:function(){new r.default(e,t).create()},(0,n.loadScript)(c,function(){(0,n.loadScript)(l,function(){(0,n.loadStyle)(d,o)})})},m=document.getElementById("boxComentarios");m&&s.VIEW_COMMENTS&&(window.ScrollSpy?ScrollSpy.add({el:m,offset:850,callback:function(t){u(t)}}):u(m))},function(t,e){"use strict";function o(t,e){var o=document.createElement("script"),n=document.getElementsByTagName("script")[0];o.type="text/javascript",o.async=!0,o.charset="utf-8",o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o=o.onload=o.onreadystatechange=null,e&&e.apply(o,arguments))},o.src=t,n.parentNode.insertBefore(o,n)}function n(t,e){var o=document.createElement("link"),n=document.getElementsByTagName("link")[0];o.type="text/css",o.rel="stylesheet",o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o=o.onload=o.onreadystatechange=null,e&&e.apply(o,arguments))},o.href=t,n.parentNode.insertBefore(o,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.loadScript=o,e.loadStyle=n},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),a=function(){function t(e,n){o(this,t),this.uri=e.uri,this.url=e.url,this.titulo=e.titulo,this.idExterno=e.idExterno,this.corProduto=e.corProduto,this.$comments=$(n)}return n(t,[{key:"create",value:function(){var t={uri:this.uri,url:this.url,titulo:this.titulo,idExterno:this.idExterno,corProduto:this.corProduto,botaoComentario:{custom:".content-head-service__comments"},callbackCarregado:$.proxy(this._widgetLoaded,this)};this.$comments.comentarios(t)}},{key:"_widgetLoaded",value:function(){this._fillCommentsCounter(),this._customizeHeader(),this._bindToggleCommentsToHeader(),this.$comments.addClass("glbComentarios--ready")}},{key:"_fillCommentsCounter",value:function(){var t=this.$comments.find(".glbComentarios-contador").text(),e=$(".content-head-service__comments__counter");""===t?e.text(0):e.text(t)}},{key:"_customizeHeader",value:function(){var t=$('<div class="glbComentarios-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><title>  Comments</title><desc>  Comments icon</desc><path d="M15 1.5c0-0.8-0.7-1.5-1.5-1.5h-12C0.7 0 0 0.7 0 1.5v9c0 0.8 0.7 1.5 1.5 1.5H12l3 3L15 1.5 15 1.5zM12 9h-9V7.5h9V9L12 9zM12 6.8h-9v-1.5h9V6.8L12 6.8zM12 4.5h-9V3h9V4.5L12 4.5z"/></svg></div>'),e=this.$comments.find(".glbComentarios-header");t.addClass("theme-color-primary"),e.removeClass("glbComentarios-header"),e.addClass("glbComentarios-custom-header"),e.prepend(t),e.attr({"data-track-category":"fim do conteudo","data-track-action":"comentario mobile","data-track-click":"clique comentarios"})}},{key:"_bindToggleCommentsToHeader",value:function(){var t=this;this.$comments.off("click"),this.$comments.on("click",".glbComentarios-custom-header",function(){t.$comments.toggleClass("glbComentarios--opened")}),$(".content-head-service__comments").click(function(){t.$comments.addClass("glbComentarios--opened")})}}]),t}();e.default=a}]);;
!function(t){function n(o){if(r[o])return r[o].exports;var i=r[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){t.exports=r(1)},function(t,n){"use strict";(function(){var t,n,r,o,i,e;window.globoComVitrines=[],i=$(".shopping .shopping__widget"),t=function(t,n){return t.attr("data-"+n)},e=function(){function t(t){return("0"+parseInt(t).toString(16)).slice(-2)}var n,r;return n=$("#header-produto .face"),1!=n.size()?"":(r=n.css("backgroundColor"),r=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),t(r[1])+t(r[2])+t(r[3]))},n=function(){return i.each(function(){var n,r,o,i,s,a,c;return o=$(this),i=t(o,"sitepage"),a="on"===t(o,"branding-header"),n=t(o,"branding-color"),null==i&&(i="globocom/home"),r={sitepage:i,container:o.attr("id")},""!==n&&(r.text_color=n),!0===a&&""!==(c=e())&&(r.text_color=c),s=new Vitrine(r),s.init(),window.globoComVitrines.push(s)})},i.length>0&&(o=t(i.first(),"url")||"https://vitrines.globo.com/vitrine/vitrine.min.js",r={url:o,dataType:"script",cache:!0,success:n},$.ajax(r))}).call(window)}]);;
!function(t){function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var e={};i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){t.exports=e(1)},function(t,i){"use strict";function e(){this.init=function(){this.iniatializeGifs(),this.loopGifs()},this.iniatializeGifs=function(){for(var t=document.getElementsByClassName("content-media__gif-container"),i=0;i<t.length;i++)t[i].addEventListener("click",this.toggleGifState,!1)},this.toggleGifState=function(){var t=this.querySelectorAll(".content-media__gif-container__gif-player")[0];this.querySelectorAll(".content-media__gif-container__gif-icon")[0].classList.toggle("content-media__gif-container__gif-icon--hidden"),t.paused?t.play():t.pause()},this.loopGifs=function(){for(var t=document.getElementsByClassName("content-media__gif-container__gif-player"),i=0;i<t.length;i++)t[i].addEventListener("ended",this.replayGif,!1)},this.replayGif=function(t){setTimeout(function(){t.target.play()},200)},this.init()}new e}]);;
